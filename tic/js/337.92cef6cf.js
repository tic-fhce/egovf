"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[337],{7590:function(e,a,i){i.d(a,{A:function(){return l}});var t=i(4373),o=i(1660);const s=o.fw;class l{getPerfil(e){return t.A.get(s+"biometrico/getPerfil",{params:{cif:e}})}getListarCifCero(){return t.A.get(s+"biometrico/listarCifCero")}getHorario(e,a){return t.A.get(s+"horario/getHorario",{params:{gestion:e,cif:a}})}updateBiometrico(e){return t.A.put(s+"biometrico/updateBiometrico",e)}getAvisoAll(){return t.A.get(s+"aviso/getAvisoAll")}getAviso(){return t.A.get(s+"aviso/getAviso")}getObsUsuario(e,a,i){return t.A.get(s+"obs/getObsUsuario",{params:{cif:e,gestion:a,mes:i}})}addObsEmpleado(e){const a={id:0,cif:e.cif,sexo:0,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,horaEntrada:e.horaEntrada,hentrada:e.horaEntrada.substring(0,2),mentrada:e.horaEntrada.substring(3,5),horaSalida:e.horaSalida,hsalida:e.horaSalida.substring(0,2),msalida:e.horaSalida.substring(3,5),url:e.url,estado:0};return t.A.post(s+"obs/addObs",a)}updateObs(e){const a={id:e.id,idObs:e.id,cif:e.cif,sexo:e.sexo,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,horaEntrada:e.horaEntrada,hentrada:e.horaEntrada.substring(0,2),mentrada:e.horaEntrada.substring(3,5),horaSalida:e.horaSalida,hsalida:e.horaSalida.substring(0,2),msalida:e.horaSalida.substring(3,5),url:e.url,estado:0};return t.A.put(s+"obs/updateObs",a)}updateObsBio(e){const a={id:e.id,cif:e.cif,idObs:e.idObs,horaEntrada:e.horaEntrada,horaSalida:e.horaSalida,hentrada:e.hentrada,hsalida:e.hsalida,mentrada:e.mentrada,msalida:e.msalida,estado:e.estado};return t.A.put(s+"obsbio/updateObsBio",a)}updateObsEmpleado(e){const a={id:e.id,idObs:e.idObs,cif:e.cif,sexo:e.sexo,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,horaEntrada:e.horaEntrada,horaSalida:e.horaSalida,hentrada:e.horaEntrada.substring(0,2),mentrada:e.horaEntrada.substring(3,5),hsalida:e.horaSalida.substring(0,2),msalida:e.horaSalida.substring(3,5),url:e.url,estado:e.estado,idtipo:e.idtipo};return t.A.put(s+"obs/updateObsEmpleado",a)}getListaHorario(e,a){return t.A.get(s+"horario/getListaHorario",{params:{cif:e,gestion:a}})}getReporteMes(e){return t.A.get(s+"marcado/reporteMes",{params:{cif:e.cif,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df}})}getReporteMesDia(e){return t.A.get(s+"marcado/reporteMesDia",{params:{cif:e.cif,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df}})}addHorario(e){const a={cif:e.cif,fecha:e.fecha,salida:e.salida,tipo:e.tipo,lem:e.lem,lsm:e.lsm,let:e.let,lst:e.lst,mem:e.mem,msm:e.msm,met:e.met,mst:e.mst,miem:e.miem,mism:e.mism,miet:e.miet,mist:e.mist,jem:e.jem,jsm:e.jsm,jet:e.jet,jst:e.jst,vem:e.vem,vsm:e.vsm,vet:e.vet,vst:e.vst,sem:e.sem,ssm:e.ssm,set:e.set,sst:e.sst,dem:e.dem,dsm:e.dsm,det:e.det,dst:e.dst};return t.A.post(s+"horario/addHorario",a)}addObs(e){const a={id:0,idObs:0,cif:e.cif,sexo:0,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,horaEntrada:e.horaEntrada,hEntrada:e.horaEntrada.substring(0,2),mEntrada:e.horaEntrada.substring(3,5),horaSalida:e.horaSalida,hSalida:e.horaSalida.substring(0,2),mSalida:e.horaSalida.substring(3,5),url:e.url,estado:1};return t.A.post(s+"obs/addObs",a)}updateObs1(e){const a={id:e.id,cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df,detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.h,m:e.m,url:e.url,estado:e.estado,tipoId:e.tipoId};return t.A.put(s+"obs/updateObs",a)}getListaObs(e){return t.A.get(s+"obs/getListaObs",{params:{gestion:e}})}getListaObsEmpleado(e){return t.A.get(s+"obs/getListaObsEmpleado",{params:{gestion:e}})}getListaObsEliminado(){return t.A.get(s+"obs/getListaObsEliminado")}addObsAll(e){const a={id:0,cif:e.cif,sexo:e.sexo,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,horaEntrada:e.horaEntrada,hEntrada:e.horaEntrada.substring(0,2),mEntrada:e.horaEntrada.substring(3,5),horaSalida:e.horaSalida,hSalida:e.horaSalida.substring(0,2),mSalida:e.horaSalida.substring(3,5),url:e.url,estado:1,idtipo:1};return t.A.post(s+"obs/addObsAll",a)}addAviso(e){const a={titulo:e.titulo,detalle:e.detalle,icon:e.icon,estado:1};return t.A.post(s+"aviso/addAviso",a)}updateAviso(e){const a={id:e.id,titulo:e.titulo,detalle:e.detalle,icon:e.icon,estado:e.estado};return t.A.put(s+"aviso/updateAviso",a)}getRecord(e){return t.A.get(s+"marcado/reporteTotal",{params:{gestion:e.gestion,mes:e.mes,tipo:e.tipo}})}updateTipo(e,a){return t.A.put(s+"biometrico/updateTipo",null,{params:{cif:e,tipo:a}})}getListarBiometrico(){return t.A.get(s+"biometrico/listarBiometrico")}getLBiometricoTipo(e){return t.A.get(s+"biometrico/listarBiometricoTipo",{params:{tipo:e}})}updateBiometricoEliminar(e){const a={id:0,user_id:0,nombre:"",cif:e.cif,estado:0,horario_id:0,lugar:"",id_tipo:0,detalle:"",sexo:0};return t.A.put(s+"biometrico/updateBiometrico",a)}getObs(e,a,i){return t.A.get(s+"obs/getObs",{params:{cif:e,gestion:a,mes:i}})}estadoBiometrico(e){return t.A.put(s+"biometrico/estadoBiometrico",e)}getListaEquipo(){return t.A.get(s+"equipo/listar")}addEquipo(e){return t.A.post(s+"equipo/addEquipo",e)}updateEquipo(e){return t.A.put(s+"equipo/updateEquipo",e)}}},5337:function(e,a,i){i.r(a),i.d(a,{default:function(){return W}});var t=i(6768),o=i(4232),s=i(5130);const l=e=>((0,t.Qi)("data-v-453c68d3"),e=e(),(0,t.jt)(),e),d={class:"align-items-center"},r={class:"mb-0 fs-6 text-white"},n={class:"table-responsive"},u={id:"equipoTabla",class:"table table-striped table-hover"},c=l((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"ID"),(0,t.Lk)("th",null,"Titulo"),(0,t.Lk)("th",null,"Detalle"),(0,t.Lk)("th",null,"Operaciones")])],-1))),m={scope:"row"},b={class:"clearfix"},f={class:"float-start"},h={class:"float-end"},g=l((()=>(0,t.Lk)("option",{value:"info"},"Informacion",-1))),p=l((()=>(0,t.Lk)("option",{value:"error"},"Error",-1))),v=l((()=>(0,t.Lk)("option",{value:"success"},"Completo",-1))),k=l((()=>(0,t.Lk)("option",{value:"warning"},"Incompleto",-1))),A=l((()=>(0,t.Lk)("option",{value:"question"},"Pregunta",-1))),F=l((()=>(0,t.Lk)("option",{value:"info"},"Informacion",-1))),C=l((()=>(0,t.Lk)("option",{value:"error"},"Error",-1))),_=l((()=>(0,t.Lk)("option",{value:"success"},"Completo",-1))),E=l((()=>(0,t.Lk)("option",{value:"warning"},"Incompleto",-1))),L=l((()=>(0,t.Lk)("option",{value:"question"},"Pregunta",-1))),S=l((()=>(0,t.Lk)("option",{value:"1"},"Activo",-1))),U=l((()=>(0,t.Lk)("option",{value:"0"},"Inactivo",-1)));function O(e,a,i,l,O,x){const w=(0,t.g2)("CIcon"),B=(0,t.g2)("CCol"),V=(0,t.g2)("CButton"),T=(0,t.g2)("CRow"),M=(0,t.g2)("CCardHeader"),$=(0,t.g2)("CProgress"),q=(0,t.g2)("CBadge"),W=(0,t.g2)("CCardBody"),D=(0,t.g2)("CCard"),I=(0,t.g2)("CModalTitle"),y=(0,t.g2)("CModalHeader"),z=(0,t.g2)("CInputGroupText"),j=(0,t.g2)("CFormInput"),H=(0,t.g2)("CInputGroup"),R=(0,t.g2)("CFormTextarea"),P=(0,t.g2)("CFormSelect"),X=(0,t.g2)("CModalBody"),G=(0,t.g2)("CModalFooter"),K=(0,t.g2)("CForm"),N=(0,t.g2)("CModal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(T,null,{default:(0,t.k6)((()=>[(0,t.bF)(B,{xs:12},{default:(0,t.k6)((()=>[(0,t.bF)(D,null,{default:(0,t.k6)((()=>[(0,t.bF)(M,{class:"headercolor justify-content-between align-items-center"},{default:(0,t.k6)((()=>[(0,t.bF)(T,null,{default:(0,t.k6)((()=>[(0,t.bF)(B,{lg:6},{default:(0,t.k6)((()=>[(0,t.Lk)("div",d,[(0,t.bF)(w,{icon:"cil-list",size:"lg",class:"me-2 text-light"}),(0,t.Lk)("label",r,(0,o.v_)(O.titulo),1)])])),_:1}),(0,t.bF)(B,{lg:6,class:"text-end"},{default:(0,t.k6)((()=>[(0,t.bF)(V,{onClick:a[0]||(a[0]=e=>x.clickModalAviso(!0)),color:"dark",class:"font",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{icon:"cil-cloud-upload",class:"me-2 text-success"}),(0,t.eW)("Agregar ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(W,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",n,[(0,t.Lk)("table",u,[c,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(O.listaAvisos,(e=>((0,t.uX)(),(0,t.CE)("tr",{key:e.id},[(0,t.Lk)("th",m,(0,o.v_)(e.id),1),(0,t.Lk)("td",null,[(0,t.eW)((0,o.v_)(e.titulo)+" ",1),(0,t.bF)($,{thin:"",color:"success",value:100}),(0,t.Lk)("div",b,[(0,t.Lk)("div",f,[(0,t.Lk)("strong",null,(0,o.v_)(e.icon),1)]),(0,t.Lk)("div",h,[1==e.estado?((0,t.uX)(),(0,t.Wv)(q,{key:0,color:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("Activo")])),_:1})):((0,t.uX)(),(0,t.Wv)(q,{key:1,color:"warning"},{default:(0,t.k6)((()=>[(0,t.eW)("Inactivo")])),_:1}))])])]),(0,t.Lk)("td",null,(0,o.v_)(e.detalle),1),(0,t.Lk)("td",null,[(0,t.bF)(V,{class:"font",color:"success",onClick:a=>x.avisoSelect(e.id),size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{icon:"cil-pencil"})])),_:2},1032,["onClick"])])])))),128))])])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(N,{visible:O.modalAviso,onClose:a[7]||(a[7]=e=>x.clickModalAviso(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(K,{onSubmit:a[6]||(a[6]=(0,s.D$)((e=>x.addAviso()),["prevent"]))},{default:(0,t.k6)((()=>[(0,t.bF)(y,{class:"headercolor",dismiss:"",onClose:a[1]||(a[1]=e=>x.clickModalAviso(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(I,null,{default:(0,t.k6)((()=>[(0,t.Lk)("h6",null,[(0,t.bF)(w,{icon:"cil-medical-cross",class:"me-2"}),(0,t.eW)(" Agregar Nuevo Aviso")])])),_:1})])),_:1}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Titulo")])),_:1}),(0,t.bF)(j,{type:"text",modelValue:O.aviso.titulo,"onUpdate:modelValue":a[2]||(a[2]=e=>O.aviso.titulo=e),placeholder:"Titulo del Aviso a colocar",required:"true"},null,8,["modelValue"])])),_:1}),(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Detalle")])),_:1}),(0,t.bF)(R,{cols:"30",rows:"5",modelValue:O.aviso.detalle,"onUpdate:modelValue":a[3]||(a[3]=e=>O.aviso.detalle=e),required:"true"},null,8,["modelValue"])])),_:1}),(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Icono")])),_:1}),(0,t.bF)(P,{modelValue:O.aviso.icon,"onUpdate:modelValue":a[4]||(a[4]=e=>O.aviso.icon=e),"model-value":String(O.aviso.icon),required:"true"},{default:(0,t.k6)((()=>[g,p,v,k,A])),_:1},8,["modelValue","model-value"])])),_:1})])),_:1}),(0,t.bF)(G,null,{default:(0,t.k6)((()=>[(0,t.bF)(V,{onClick:a[5]||(a[5]=e=>x.clickModalAviso(!1)),color:"danger",class:"font",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.bF)(V,{type:"submit",class:"font",size:"sm",color:"success"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Agregar ")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"]),(0,t.bF)(N,{visible:O.modalAvisoUpdate,onClose:a[16]||(a[16]=e=>x.clickModalAvisoUpdate(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(K,{onSubmit:a[15]||(a[15]=(0,s.D$)((e=>x.updateAviso()),["prevent"]))},{default:(0,t.k6)((()=>[(0,t.bF)(y,{class:"headercolor",dismiss:"",onClose:a[8]||(a[8]=e=>x.clickModalAvisoUpdate(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(I,null,{default:(0,t.k6)((()=>[(0,t.Lk)("h6",null,[(0,t.bF)(w,{icon:"cil-medical-cross",class:"me-2"}),(0,t.eW)(" Actualizar Aviso")])])),_:1})])),_:1}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Titulo")])),_:1}),(0,t.bF)(j,{type:"text",modelValue:O.avisoUpdate.titulo,"onUpdate:modelValue":a[9]||(a[9]=e=>O.avisoUpdate.titulo=e),placeholder:"Titulo del Aviso a colocar",required:"true"},null,8,["modelValue"])])),_:1}),(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Detalle")])),_:1}),(0,t.bF)(R,{cols:"30",rows:"5",modelValue:O.avisoUpdate.detalle,"onUpdate:modelValue":a[10]||(a[10]=e=>O.avisoUpdate.detalle=e),required:"true"},null,8,["modelValue"])])),_:1}),(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Icono")])),_:1}),(0,t.bF)(P,{modelValue:O.avisoUpdate.icon,"onUpdate:modelValue":a[11]||(a[11]=e=>O.avisoUpdate.icon=e),"model-value":String(O.avisoUpdate.icon),required:"true"},{default:(0,t.k6)((()=>[F,C,_,E,L])),_:1},8,["modelValue","model-value"])])),_:1}),(0,t.bF)(H,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{as:"label"},{default:(0,t.k6)((()=>[(0,t.eW)("Estado")])),_:1}),(0,t.bF)(P,{modelValue:O.avisoUpdate.estado,"onUpdate:modelValue":[a[12]||(a[12]=e=>O.avisoUpdate.estado=e),a[13]||(a[13]=e=>O.avisoUpdate.estado=Number(e))],"model-value":String(O.avisoUpdate.estado),required:"true"},{default:(0,t.k6)((()=>[S,U])),_:1},8,["modelValue","model-value"])])),_:1})])),_:1}),(0,t.bF)(G,null,{default:(0,t.k6)((()=>[(0,t.bF)(V,{onClick:a[14]||(a[14]=e=>x.clickModalAvisoUpdate(!1)),color:"danger",class:"font",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.bF)(V,{type:"submit",class:"font",color:"success",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Actualizar ")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])],64)}i(4114);var x=i(7590),w=i(903),B=i(9995),V=i(6587),T=i.n(V);w.A.use(B.A);var M={name:"AvisoView",components:{},data(){return{titulo:"Avisos Modulo SCC",modalAviso:!1,modalAvisoUpdate:!1,sccService:null,listaAvisos:[],usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},aviso:{titulo:"",detalle:"",icon:"",estado:0},avisoUpdate:{id:0,titulo:"",detalle:"",icon:"",estado:0}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.sccService=new x.A},mounted(){this.getDatos(),this.getAvisoAll()},methods:{tabla(){this.$nextTick((()=>{T()("#equipoTabla").DataTable()}))},getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"))},async getAvisoAll(){await this.sccService.getAvisoAll().then((e=>{this.listaAvisos=e.data})),this.tabla()},addAviso(){this.$swal.fire({title:"Desea Registrar El Aviso",icon:"info",showDenyButton:!0,confirmButtonText:"Registrar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed&&this.sccService.addAviso(this.aviso).then((e=>{201==e.status?this.$swal.fire("Aviso Registrado Corectamente","","success").then((e=>{e&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error",""+e.status,"error")}))}))},updateAviso(){this.$swal.fire({title:"Desea Actualizar El Aviso",icon:"info",showDenyButton:!0,confirmButtonText:"Actualizar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed&&this.sccService.updateAviso(this.avisoUpdate).then((e=>{200==e.status?this.$swal.fire("Aviso Actualizado Corectamente","","success").then((e=>{e&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error",""+e.status,"error")}))}))},avisoSelect(e){this.listaAvisos.forEach((a=>{a.id==e&&(this.avisoUpdate.id=a.id,this.avisoUpdate.titulo=a.titulo,this.avisoUpdate.detalle=a.detalle,this.avisoUpdate.icon=a.icon,this.avisoUpdate.estado=a.estado)})),this.clickModalAvisoUpdate(!0)},clickModalAviso(e){this.modalAviso=e},clickModalAvisoUpdate(e){this.modalAvisoUpdate=e}}},$=i(1241);const q=(0,$.A)(M,[["render",O],["__scopeId","data-v-453c68d3"]]);var W=q}}]);
//# sourceMappingURL=337.92cef6cf.js.map