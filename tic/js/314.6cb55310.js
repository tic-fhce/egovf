"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[314],{7705:function(o,e,i){i.r(e),i.d(e,{default:function(){return x}});var t=i(6768),s=i(4232);const a={"aria-label":"breadcrumb"},l={class:"breadcrumb custom-breadcrumb"},u={class:"breadcrumb-item"},d={class:"breadcrumb-item active","aria-current":"page"},c=(0,t.Lk)("br",null,null,-1);function n(o,e,i,n,r,f){const h=(0,t.g2)("router-link"),g=(0,t.g2)("ComponenteDatosPersonalesVue"),m=(0,t.g2)("ComponenteModulosVue");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("nav",a,[(0,t.Lk)("ol",l,[(0,t.Lk)("li",u,[(0,t.bF)(h,{to:"/listadeciudadanos",class:"breadcrumb-link"},{default:(0,t.k6)((()=>[(0,t.eW)("Lista de Ciudadanos")])),_:1})]),(0,t.Lk)("li",d,(0,s.v_)(r.titulo)+" : "+(0,s.v_)(r.cifCiudadano)+" > ",1)])]),(0,t.bF)(g,{cifCiudadano:r.cifCiudadano,egovfp:r.egovf},null,8,["cifCiudadano","egovfp"]),c,(0,t.bF)(m,{cif:r.cifCiudadano,egovf:r.egovf,datos:r.datos},null,8,["cif","egovf","datos"])],64)}i(4114);var r=i(2453),f=i(5130);const h={class:"d-flex align-items-center"},g={class:"mb-0 fs-6 text-white"},m=(0,t.Lk)("br",null,null,-1),k=(0,t.Lk)("br",null,null,-1),C=["value"];function b(o,e,i,a,l,u){const d=(0,t.g2)("CIcon"),c=(0,t.g2)("CButton"),n=(0,t.g2)("CCardHeader"),r=(0,t.g2)("CCardBody"),b=(0,t.g2)("CCardFooter"),p=(0,t.g2)("CCard"),v=(0,t.g2)("CCol"),M=(0,t.g2)("CRow"),F=(0,t.g2)("CModalTitle"),_=(0,t.g2)("CModalHeader"),$=(0,t.g2)("ComponenteNombres"),w=(0,t.g2)("CInputGroupText"),E=(0,t.g2)("CFormSelect"),S=(0,t.g2)("CInputGroup"),x=(0,t.g2)("CModalBody"),y=(0,t.g2)("CModalFooter"),A=(0,t.g2)("CForm"),D=(0,t.g2)("CModal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(M,null,{default:(0,t.k6)((()=>[(0,t.bF)(v,{lg:12},{default:(0,t.k6)((()=>[(0,t.bF)(p,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"headercolor d-flex justify-content-between align-items-center"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",h,[(0,t.bF)(d,{icon:"cil-list",size:"lg",class:"me-2 text-light"}),(0,t.Lk)("label",g,(0,s.v_)(l.titulo),1)]),(0,t.bF)(c,{onClick:e[0]||(e[0]=o=>u.clickModalModulo(!0)),color:"dark",class:"font",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Agregar")])),_:1})])),_:1}),(0,t.bF)(r,null,{default:(0,t.k6)((()=>[(0,t.bF)(M,null,{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.listaModuloCifEmpleado,(o=>((0,t.uX)(),(0,t.Wv)(v,{lg:3,key:o.id},{default:(0,t.k6)((()=>[m,(0,t.bF)(p,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"headercolor text-center"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(o.descripcion),1)])),_:2},1024),(0,t.bF)(r,{class:"text-center"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{customClassName:"nav-icon",icon:o.imagen,class:"menuicon"},null,8,["icon"])])),_:2},1024),(0,t.bF)(b,{class:"text-center"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{color:"success",size:"sm",class:"font",onClick:e=>u.getModulo(o.ruta)},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(o.nombre),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(D,{visible:l.modalModulo,onClose:e[6]||(e[6]=o=>u.clickModalModulo(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(A,{onSubmit:e[5]||(e[5]=(0,f.D$)((o=>u.addModulo()),["prevent"]))},{default:(0,t.k6)((()=>[(0,t.bF)(_,{class:"headercolor",dismiss:"",onClose:e[1]||(e[1]=o=>u.clickModalModulo(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(F,null,{default:(0,t.k6)((()=>[(0,t.Lk)("h6",null,[(0,t.bF)(d,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Agregar Modulos")])])),_:1})])),_:1}),(0,t.bF)(x,null,{default:(0,t.k6)((()=>[(0,t.bF)($,{datos:i.datos},null,8,["datos"]),k,(0,t.bF)(S,{class:"mb-3"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{as:"label",for:"inputGroupSelect01"},{default:(0,t.k6)((()=>[(0,t.eW)("Modulo ")])),_:1}),(0,t.bF)(E,{modelValue:l.id_modulo,"onUpdate:modelValue":[e[2]||(e[2]=o=>l.id_modulo=o),e[3]||(e[3]=o=>l.id_modulo=Number(o))],"model-value":String(l.id_modulo),required:"true"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.listaModulo,(o=>((0,t.uX)(),(0,t.CE)("option",{value:o.id,key:o.id},(0,s.v_)(o.descripcion),9,C)))),128))])),_:1},8,["modelValue","model-value"])])),_:1})])),_:1}),(0,t.bF)(y,null,{default:(0,t.k6)((()=>[(0,t.bF)(c,{onClick:e[4]||(e[4]=o=>u.clickModalModulo(!1)),color:"danger",class:"font",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar")])),_:1}),(0,t.bF)(c,{type:"submit",class:"font",color:"success",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{icon:"cil-check-alt",class:"me-2"}),(0,t.eW)("Agregar ")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])],64)}var p=i(3817),v=i(8329),M={name:"ComponenteModulosVue",props:["cif","egovf","datos"],components:{ComponenteNombres:p.A},data(){return{titulo:"Modulos del Ciudadano",modalModulo:!1,moduloService:null,listaModulo:[],listaModuloCifEmpleado:[],id_modulo:0,getPB:!0,usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},modulo:{cif:0,idmodulo:0,quien:0}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.moduloService=new v.A},mounted(){this.getDatos()},updated(){this.cif>0&&this.getPB&&(this.getModuloCifEmpleado(),this.getModulos(),this.getPB=!1)},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"),this.moduloService.headersUsuario(this.usuario.token))},async getModulos(){await this.moduloService.getModulos(this.cif).then((o=>{this.listaModulo=o.data}))},async getModuloCifEmpleado(){await this.moduloService.getModuloCifEmpleado(this.cif).then((o=>{this.listaModuloCifEmpleado=o.data}))},async addModulo(){this.modulo.cif=this.cif,this.modulo.idmodulo=this.id_modulo,this.modulo.quien=this.usuario.cif,await this.$swal.fire({title:"Desea Agregar el Modulo al Ciudadano ?",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((o=>{o.isConfirmed?this.moduloService.addModulo(this.modulo).then((o=>{201==o.status?this.$swal.fire("El Modulo fue Agregado al Ciudadano Corectamente","","success").then((o=>{o&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error"+o.status,"","error")})):o.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},getModulo(o){this.$router.push({name:o,params:{cifCiudadano:this.cif}})},clickModalModulo(o){this.modalModulo=o}}},F=i(1241);const _=(0,F.A)(M,[["render",b]]);var $=_,w=i(7950),E={name:"PerfilCiudadanoView",components:{ComponenteDatosPersonalesVue:r.A,ComponenteModulosVue:$},data(){return{titulo:"Perfil del Ciudadano",egovfService:null,cifCiudadano:"",usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},egovf:{idPersona:0,nombre:"",paterno:"",materno:"",fecha:"",sexo:0,idUsuario:0,cif:0,matricula:0,ci:"",ci_com:0,complemento:"",correo:"",celular:"",pass:"",unidad:"",dependiente:"",sigla:"",foto:""},datos:{cif:0,nombre:"",apellido:""}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.egovfService=new w.A},mounted(){this.cifCiudadano=this.$route.params.cifCiudadano,this.getDatos(),this.getEgovf()},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"))},async getEgovf(){this.egovfService.headersUsuario(this.usuario.token),await this.egovfService.getEgovf(this.cifCiudadano).then((o=>{this.egovf=o.data,this.datos.cif=this.egovf.cif,this.datos.nombre=this.egovf.nombre,this.datos.apellido=this.egovf.paterno+" "+this.egovf.materno}))}}};const S=(0,F.A)(E,[["render",n]]);var x=S}}]);
//# sourceMappingURL=314.6cb55310.js.map