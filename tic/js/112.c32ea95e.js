"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[112],{1133:function(a,e,i){i.d(e,{A:function(){return l}});var t=i(4373),o=i(1660);const s=o.Qy;class l{getEmpleado(a){return t.A.get(s+"empleado/getEmpleado",{params:{cif:a}})}getListaTipoEmpleado(){return t.A.get(s+"tipo/listar")}getListarEmpleadoModuloCif(a){return t.A.get(s+"modulo/getListarEmpleadoModuloCif",{params:{cif:a}})}getListarEmpleadoModulo(a){return t.A.get(s+"modulo/getListarEmpleadoModulo",{params:{cif:a}})}addContrato(a){const e=new Date;let i=a.numerocontrato;const o={cif:a.cif,numero_contrato:i.toUpperCase(),servicio:a.servicio,unidad:a.unidad,inicio:a.inicio,fin:a.fin,gestion:e.getFullYear(),detalle:a.detalle,idTipoEmpleado:a.idTipoEmpleado,cargo:a.cargo,foto:a.foto};return t.A.post(s+"contrato/addContrato",o)}updateContrato(a,e){let i=a.numerocontrato;const o={id:a.id,cif:a.cif,numero_contrato:i.toUpperCase(),servicio:a.servicio,unidad:a.unidad,inicio:a.inicio,fin:a.fin,gestion:a.gestion,detalle:a.detalle,idTipoEmpleado:a.idTipoEmpleado,foto:e,cargo:a.cargo};return t.A.put(s+"contrato/updateContrato",o)}getTipoEmpleado(a){return t.A.get(s+"tipo/getTipoEmpleado",{params:{id:a}})}getListaEmpleado(a){return t.A.get(s+"empleado/getListaEmpleado",{params:{tipo:a}})}getEmpleados(){return t.A.get(s+"empleado/getEmpleados")}getListaModulo(){return t.A.get(s+"modulo/listar")}addEmpleadoModulo(a){const e={cif:a.cif,id_modulo:a.id_modulo,estado:1};return t.A.post(s+"empmodulo/addEmpleadoModulo",e)}updateEmpleadoEliminar(a){const e={id:a.id,cif:a.cif,tipo_empleado_id:0,fecha:"",estado:0,salida:"",foto:""};return t.A.put(s+"empleado/updateEmpleado",e)}updateFoto(a,e){const i={id:0,cif:a,tipo_empleado_id:0,fecha:"",estado:0,salida:"",foto:e};return t.A.put(s+"empleado/updateFoto",i)}getListaEmpleadoTipo(a){return t.A.get(s+"empleado/listarTipo",{params:{tipo:a}})}}},7590:function(a,e,i){i.d(e,{A:function(){return l}});var t=i(4373),o=i(1660);const s=o.fw;class l{getPerfil(a){return t.A.get(s+"biometrico/getPerfil",{params:{cif:a}})}getListarCifCero(){return t.A.get(s+"biometrico/listarCifCero")}getHorario(a,e){return t.A.get(s+"horario/getHorario",{params:{gestion:a,cif:e}})}updateBiometrico(a){return t.A.put(s+"biometrico/updateBiometrico",a)}getAvisoAll(){return t.A.get(s+"aviso/getAvisoAll")}getAviso(){return t.A.get(s+"aviso/getAviso")}getObsUsuario(a,e,i){return t.A.get(s+"obs/getObsUsuario",{params:{cif:a,gestion:e,mes:i}})}addObsEmpleado(a){const e={id:0,cif:a.cif,sexo:0,uidobs:a.uidobs,fechainicio:a.fechainicio,fechafin:a.fechafin,gestion:a.fechainicio.substring(0,4),mes:a.fechainicio.substring(5,7),di:a.fechainicio.substring(8,10),df:a.fechafin.substring(8,10),detalle:a.detalle,imagen:a.imagen,tipo:a.tipo,horaEntrada:a.horaEntrada,hentrada:a.horaEntrada.substring(0,2),mentrada:a.horaEntrada.substring(3,5),horaSalida:a.horaSalida,hsalida:a.horaSalida.substring(0,2),msalida:a.horaSalida.substring(3,5),url:a.url,estado:0};return t.A.post(s+"obs/addObs",e)}updateObs(a){const e={id:a.id,idObs:a.id,cif:a.cif,sexo:a.sexo,uidobs:a.uidobs,fechainicio:a.fechainicio,fechafin:a.fechafin,gestion:a.fechainicio.substring(0,4),mes:a.fechainicio.substring(5,7),di:a.fechainicio.substring(8,10),df:a.fechafin.substring(8,10),detalle:a.detalle,imagen:a.imagen,tipo:a.tipo,horaEntrada:a.horaEntrada,hentrada:a.horaEntrada.substring(0,2),mentrada:a.horaEntrada.substring(3,5),horaSalida:a.horaSalida,hsalida:a.horaSalida.substring(0,2),msalida:a.horaSalida.substring(3,5),url:a.url,estado:0};return t.A.put(s+"obs/updateObs",e)}updateObsBio(a){const e={id:a.id,cif:a.cif,idObs:a.idObs,horaEntrada:a.horaEntrada,horaSalida:a.horaSalida,hentrada:a.hentrada,hsalida:a.hsalida,mentrada:a.mentrada,msalida:a.msalida,estado:a.estado};return t.A.put(s+"obsbio/updateObsBio",e)}updateObsEmpleado(a){const e={id:a.id,idObs:a.idObs,cif:a.cif,sexo:a.sexo,uidobs:a.uidobs,fechainicio:a.fechainicio,fechafin:a.fechafin,gestion:a.fechainicio.substring(0,4),mes:a.fechainicio.substring(5,7),di:a.fechainicio.substring(8,10),df:a.fechafin.substring(8,10),detalle:a.detalle,imagen:a.imagen,tipo:a.tipo,horaEntrada:a.horaEntrada,horaSalida:a.horaSalida,hentrada:a.horaEntrada.substring(0,2),mentrada:a.horaEntrada.substring(3,5),hsalida:a.horaSalida.substring(0,2),msalida:a.horaSalida.substring(3,5),url:a.url,estado:a.estado,idtipo:a.idtipo};return t.A.put(s+"obs/updateObsEmpleado",e)}getListaHorario(a,e){return t.A.get(s+"horario/getListaHorario",{params:{cif:a,gestion:e}})}getReporteMes(a){return t.A.get(s+"marcado/reporteMes",{params:{cif:a.cif,gestion:a.gestion,mes:a.mes,di:a.di,df:a.df}})}getReporteMesDia(a){return t.A.get(s+"marcado/reporteMesDia",{params:{cif:a.cif,gestion:a.gestion,mes:a.mes,di:a.di,df:a.df}})}addHorario(a){const e={cif:a.cif,fecha:a.fecha,salida:a.salida,tipo:a.tipo,lem:a.lem,lsm:a.lsm,let:a.let,lst:a.lst,mem:a.mem,msm:a.msm,met:a.met,mst:a.mst,miem:a.miem,mism:a.mism,miet:a.miet,mist:a.mist,jem:a.jem,jsm:a.jsm,jet:a.jet,jst:a.jst,vem:a.vem,vsm:a.vsm,vet:a.vet,vst:a.vst,sem:a.sem,ssm:a.ssm,set:a.set,sst:a.sst,dem:a.dem,dsm:a.dsm,det:a.det,dst:a.dst};return t.A.post(s+"horario/addHorario",e)}addObs(a){const e={id:0,idObs:0,cif:a.cif,sexo:0,uidobs:a.uidobs,fechainicio:a.fechainicio,fechafin:a.fechafin,gestion:a.fechainicio.substring(0,4),mes:a.fechainicio.substring(5,7),di:a.fechainicio.substring(8,10),df:a.fechafin.substring(8,10),detalle:a.detalle,imagen:a.imagen,tipo:a.tipo,horaEntrada:a.horaEntrada,hEntrada:a.horaEntrada.substring(0,2),mEntrada:a.horaEntrada.substring(3,5),horaSalida:a.horaSalida,hSalida:a.horaSalida.substring(0,2),mSalida:a.horaSalida.substring(3,5),url:a.url,estado:1};return t.A.post(s+"obs/addObs",e)}updateObs1(a){const e={id:a.id,cif:a.cif,uidobs:a.uidobs,fechainicio:a.fechainicio,fechafin:a.fechafin,gestion:a.gestion,mes:a.mes,di:a.di,df:a.df,detalle:a.detalle,imagen:a.imagen,tipo:a.tipo,hora:a.hora,h:a.h,m:a.m,url:a.url,estado:a.estado,tipoId:a.tipoId};return t.A.put(s+"obs/updateObs",e)}getListaObs(a){return t.A.get(s+"obs/getListaObs",{params:{gestion:a}})}getListaObsEmpleado(a){return t.A.get(s+"obs/getListaObsEmpleado",{params:{gestion:a}})}getListaObsEliminado(){return t.A.get(s+"obs/getListaObsEliminado")}addObsAll(a){const e={id:0,cif:a.cif,sexo:a.sexo,uidobs:a.uidobs,fechainicio:a.fechainicio,fechafin:a.fechafin,gestion:a.fechainicio.substring(0,4),mes:a.fechainicio.substring(5,7),di:a.fechainicio.substring(8,10),df:a.fechafin.substring(8,10),detalle:a.detalle,imagen:a.imagen,tipo:a.tipo,horaEntrada:a.horaEntrada,hEntrada:a.horaEntrada.substring(0,2),mEntrada:a.horaEntrada.substring(3,5),horaSalida:a.horaSalida,hSalida:a.horaSalida.substring(0,2),mSalida:a.horaSalida.substring(3,5),url:a.url,estado:1,idtipo:1};return t.A.post(s+"obs/addObsAll",e)}addAviso(a){const e={titulo:a.titulo,detalle:a.detalle,icon:a.icon,estado:1};return t.A.post(s+"aviso/addAviso",e)}updateAviso(a){const e={id:a.id,titulo:a.titulo,detalle:a.detalle,icon:a.icon,estado:a.estado};return t.A.put(s+"aviso/updateAviso",e)}getRecord(a){return t.A.get(s+"marcado/reporteTotal",{params:{gestion:a.gestion,mes:a.mes,tipo:a.tipo}})}updateTipo(a,e){return t.A.put(s+"biometrico/updateTipo",null,{params:{cif:a,tipo:e}})}getListarBiometrico(){return t.A.get(s+"biometrico/listarBiometrico")}getLBiometricoTipo(a){return t.A.get(s+"biometrico/listarBiometricoTipo",{params:{tipo:a}})}updateBiometricoEliminar(a){const e={id:0,user_id:0,nombre:"",cif:a.cif,estado:0,horario_id:0,lugar:"",id_tipo:0,detalle:"",sexo:0};return t.A.put(s+"biometrico/updateBiometrico",e)}getObs(a,e,i){return t.A.get(s+"obs/getObs",{params:{cif:a,gestion:e,mes:i}})}estadoBiometrico(a){return t.A.put(s+"biometrico/estadoBiometrico",a)}getListaEquipo(){return t.A.get(s+"equipo/listar")}addEquipo(a){return t.A.post(s+"equipo/addEquipo",a)}updateEquipo(a){return t.A.put(s+"equipo/updateEquipo",a)}}},7950:function(a,e,i){i.d(e,{A:function(){return l}});var t=i(4373),o=i(1660);const s=o.j6;class l{headersUsuario(a){t.A.defaults.headers.common["Authorization"]="Bearer "+a}getEgovf(a){return t.A.get(s+"ciudadano/getEgovf",{params:{cif:a}})}getListaCiudadano(){return t.A.get(s+"ciudadano/getListaCiudadano")}getListaCiudadanoPublico(){return t.A.get(s+"ciudadano/getListaCiudadanoPublico")}getListaEmpleado(){return t.A.get(s+"ciudadano/getListaEmpleado")}}},7160:function(a,e,i){i.d(e,{A:function(){return l}});var t=i(4373),o=i(1660);const s=o.H4;class l{getListarCifCero(){return t.A.get("biometrico/listarCifCero")}addImagen(a,e){return t.A.post(s+"upload.php",a,{...e,headers:{"Content-Type":"multipart/form-data"}})}addFoto(a,e){return t.A.post(s+"foto.php",a,{...e,headers:{"Content-Type":"multipart/form-data"}})}getUrl(){return s+"imagenes/"}getImage(a){return t.A.get(a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}})}}},3112:function(a,e,i){i.r(e),i.d(e,{default:function(){return Ha}});var t=i(6768),o=i(4232),s=i(5130);const l=a=>((0,t.Qi)("data-v-8a8ff91c"),a=a(),(0,t.jt)(),a),r={"aria-label":"breadcrumb"},d={class:"breadcrumb custom-breadcrumb"},n={class:"breadcrumb-item"},u={class:"breadcrumb-item active","aria-current":"page"},c={class:"align-items-center"},b={class:"mb-0 fs-6 text-white"},m={class:"table-responsive"},h={class:"table",id:"obsTabla"},f=l((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"ID"),(0,t.Lk)("th",null,"CIF"),(0,t.Lk)("th",null,"Empleado"),(0,t.Lk)("th",null,"UidObs"),(0,t.Lk)("th",null,"Tipo"),(0,t.Lk)("th",null,"Detalle"),(0,t.Lk)("th",null,"Opciones")])],-1))),p={scope:"row"},g=l((()=>(0,t.Lk)("tfoot",null,[(0,t.Lk)("tr")],-1))),k=l((()=>(0,t.Lk)("h5",null,"Detalles de la Observacion",-1))),E={class:"mb-3 row"},v={class:"card-title"},L=l((()=>(0,t.Lk)("hr",null,null,-1))),O=l((()=>(0,t.Lk)("strong",null,"ID:",-1))),A=l((()=>(0,t.Lk)("hr",null,null,-1))),C=l((()=>(0,t.Lk)("strong",null,"UID:",-1))),F=l((()=>(0,t.Lk)("hr",null,null,-1))),_=l((()=>(0,t.Lk)("strong",null,"Fecha Inicio:",-1))),S=l((()=>(0,t.Lk)("strong",null,"Fecha Fin:",-1))),D=l((()=>(0,t.Lk)("hr",null,null,-1))),w=l((()=>(0,t.Lk)("strong",null,"Detalle:",-1))),T=l((()=>(0,t.Lk)("hr",null,null,-1))),M=l((()=>(0,t.Lk)("strong",null,"Tipo de Obs. :",-1))),x=l((()=>(0,t.Lk)("strong",null,"Hora Entrada:",-1))),I=l((()=>(0,t.Lk)("strong",null,"Hora Salida:",-1))),y=["src"],$=l((()=>(0,t.Lk)("h5",null,"Actualizar la Observacion de Asistencia",-1))),B={class:"mb-3 row"},U=l((()=>(0,t.Lk)("label",{for:"cif",class:"col-4 col-form-label"},"CIF",-1))),H={class:"col-8"},W={class:"mb-3 row"},q=l((()=>(0,t.Lk)("label",{for:"datos",class:"col-4 col-form-label"},"UID - OBS",-1))),z={class:"col-8"},j={class:"mb-3 row"},V=l((()=>(0,t.Lk)("label",{for:"datos",class:"col-4 col-form-label"},"Fecha de Inicio",-1))),G={class:"col-8"},J={class:"mb-3 row"},R=l((()=>(0,t.Lk)("label",{for:"datos",class:"col-4 col-form-label"},"Fecha Fin",-1))),X={class:"col-8"},Q={class:"mb-3 row"},P=l((()=>(0,t.Lk)("label",{for:"datos",class:"col-4 col-form-label"},"Detalle",-1))),K={class:"col-8"},Y={class:"mb-3 row"},N=l((()=>(0,t.Lk)("label",{for:"tipo",class:"col-4 col-form-label"},"Tipo",-1))),Z={class:"col-8"},aa=l((()=>(0,t.Lk)("option",{value:"Entrada M."},"Entrada Mañana",-1))),ea=l((()=>(0,t.Lk)("option",{value:"Salida M."},"Salida Mañana",-1))),ia=l((()=>(0,t.Lk)("option",{value:"Entrada T."},"Entrada Tarde",-1))),ta=l((()=>(0,t.Lk)("option",{value:"Salida T."},"Salida Tarde",-1))),oa=l((()=>(0,t.Lk)("option",{value:"continuo"},"Continuo",-1))),sa=l((()=>(0,t.Lk)("option",{value:"continuoingreso"},"Continuo e Ingreso",-1))),la=l((()=>(0,t.Lk)("option",{value:"horas"},"Horas de Servicio",-1))),ra=l((()=>(0,t.Lk)("option",{value:"extraordinario"},"Horario Extraordinario",-1))),da=l((()=>(0,t.Lk)("option",{value:"comision"},"Comisión",-1))),na=l((()=>(0,t.Lk)("option",{value:"permiso"},"Permiso",-1))),ua=l((()=>(0,t.Lk)("option",{value:"asueto"},"Asueto",-1))),ca=[aa,ea,ia,ta,oa,sa,la,ra,da,na,ua],ba={key:0,class:"mb-3 row"},ma=l((()=>(0,t.Lk)("label",{for:"datos",class:"col-sm-4 col-form-label"},"Hora Ingreso",-1))),ha={class:"col-sm-8"},fa={key:1,class:"mb-3 row"},pa={for:"datos",class:"col-sm-4 col-form-label"},ga={class:"col-sm-8"},ka=["src"],Ea={class:"btn btn-success font"},va=l((()=>(0,t.Lk)("h5",null,"Actualizar Imagen de Observacion",-1))),La={class:"mb-3 row"},Oa=l((()=>(0,t.Lk)("label",{for:"imagen",class:"col-4 col-form-label"},"Documento",-1))),Aa={class:"col-8"},Ca=["src"],Fa={class:"btn btn-success font"};function _a(a,e,i,l,aa,ea){const ia=(0,t.g2)("router-link"),ta=(0,t.g2)("CIcon"),oa=(0,t.g2)("CCardHeader"),sa=(0,t.g2)("CButton"),la=(0,t.g2)("CButtonGroup"),ra=(0,t.g2)("CCardBody"),da=(0,t.g2)("CCard"),na=(0,t.g2)("CCol"),ua=(0,t.g2)("CRow"),_a=(0,t.g2)("CModalTitle"),Sa=(0,t.g2)("CModalHeader"),Da=(0,t.g2)("CAlert"),wa=(0,t.g2)("CModalBody"),Ta=(0,t.g2)("CModalFooter"),Ma=(0,t.g2)("CModal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("nav",r,[(0,t.Lk)("ol",d,[(0,t.Lk)("li",n,[(0,t.bF)(ia,{to:"/menuObs",class:"breadcrumb-link"},{default:(0,t.k6)((()=>[(0,t.eW)("Menu de Observaciones")])),_:1})]),(0,t.Lk)("li",u,(0,o.v_)(aa.titulo)+" > ",1)])]),(0,t.bF)(ua,null,{default:(0,t.k6)((()=>[(0,t.bF)(na,{xs:12},{default:(0,t.k6)((()=>[(0,t.bF)(da,null,{default:(0,t.k6)((()=>[(0,t.bF)(oa,{class:"headercolor justify-content-between"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",c,[(0,t.bF)(ta,{icon:"cil-list",size:"lg",class:"me-2 text-light"}),(0,t.Lk)("label",b,(0,o.v_)(aa.titulo),1)])])),_:1}),(0,t.bF)(ra,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",m,[(0,t.Lk)("table",h,[f,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(aa.listaObsCiudadanos,(a=>((0,t.uX)(),(0,t.CE)("tr",{key:a.id},[(0,t.Lk)("th",p,(0,o.v_)(a.id),1),(0,t.Lk)("td",null,(0,o.v_)(a.cif),1),(0,t.Lk)("td",null,(0,o.v_)(a.nombre),1),(0,t.Lk)("td",null,(0,o.v_)(a.uidobs),1),(0,t.Lk)("td",null,(0,o.v_)(a.tipo),1),(0,t.Lk)("td",null,(0,o.v_)(a.detalle),1),(0,t.Lk)("td",null,[(0,t.bF)(la,{role:"group"},{default:(0,t.k6)((()=>[(0,t.bF)(sa,{color:"success",class:"font",size:"sm",onClick:e=>ea.getObsDetalle(a.id)},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-featured-playlist"})])),_:2},1032,["onClick"]),(0,t.bF)(sa,{color:"warning",class:"font",size:"sm",onClick:e=>ea.setObs(a.id)},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-pencil"})])),_:2},1032,["onClick"]),(0,t.bF)(sa,{color:"secondary",class:"font",size:"sm",onClick:e=>ea.setImg(a.id)},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-clipboard"})])),_:2},1032,["onClick"])])),_:2},1024)])])))),128))]),g])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(Ma,{visible:aa.modalDetalleObs,onClose:e[3]||(e[3]=a=>ea.clickModalDetalleObs(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(Sa,{class:"headercolor",dismiss:"",onClose:e[0]||(e[0]=a=>ea.clickModalDetalleObs(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(_a,null,{default:(0,t.k6)((()=>[k])),_:1})])),_:1}),(0,t.bF)(wa,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",E,[(0,t.Lk)("h4",v,"CIF : "+(0,o.v_)(aa.obsDetalle.cif),1)]),L,(0,t.bF)(ua,{class:"mb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[O])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.id),1)])),_:1})])),_:1}),A,(0,t.bF)(ua,{class:"mb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[C])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.uidobs),1)])),_:1})])),_:1}),F,(0,t.bF)(ua,{class:"mb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[_])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.fechainicio),1)])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[S])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.fechafin),1)])),_:1})])),_:1}),D,(0,t.bF)(ua,{class:"mb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[w])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.detalle),1)])),_:1})])),_:1}),T,(0,t.bF)(ua,{class:"mb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[M])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.tipo),1)])),_:1})])),_:1}),(0,t.bF)(ua,{class:"mb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[x])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.horaEntrada),1)])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[I])),_:1}),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(aa.obsDetalle.horaSalida),1)])),_:1})])),_:1}),(0,t.bF)(ua,null,{default:(0,t.k6)((()=>[1===aa.obsDetalle.estado?((0,t.uX)(),(0,t.Wv)(Da,{key:0,color:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("Aprobado")])),_:1})):(0,t.Q3)("",!0),0===aa.obsDetalle.estado?((0,t.uX)(),(0,t.Wv)(Da,{key:1,color:"warning"},{default:(0,t.k6)((()=>[(0,t.eW)("En Espera")])),_:1})):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(ua,null,{default:(0,t.k6)((()=>[(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:aa.obsDetalle.url,alt:"",class:"img-fluid"},null,8,y)])),_:1})])),_:1})])),_:1}),(0,t.bF)(Ta,null,{default:(0,t.k6)((()=>[(0,t.bF)(sa,{onClick:e[1]||(e[1]=a=>ea.clickModalDetalleObs(!1)),color:"danger",class:"font"},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.bF)(sa,{onClick:e[2]||(e[2]=a=>ea.updateObsBio(aa.obsDetalle.id,0)),color:"success",class:"font"},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-check-alt",class:"me-2"}),(0,t.eW)("Restaurar ")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,t.bF)(Ma,{visible:aa.modalObsEditar,onClose:e[16]||(e[16]=a=>ea.clickModalObsEditar(!1))},{default:(0,t.k6)((()=>[(0,t.Lk)("form",{onSubmit:e[15]||(e[15]=(0,s.D$)((a=>ea.updateObsEmpleado()),["prevent"]))},[(0,t.bF)(Sa,{class:"headercolor text-center",dismiss:"",onClose:e[4]||(e[4]=a=>ea.clickModalObsEditar(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(_a,null,{default:(0,t.k6)((()=>[$])),_:1})])),_:1}),(0,t.bF)(wa,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",B,[U,(0,t.Lk)("div",H,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>aa.uobs.cif=a),required:"true",placeholder:"CIF"},null,512),[[s.Jo,aa.uobs.cif]])])]),(0,t.Lk)("div",W,[q,(0,t.Lk)("div",z,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=a=>aa.uobs.uidobs=a),required:"true",placeholder:"Cite u Hoja de Ruta"},null,512),[[s.Jo,aa.uobs.uidobs]])])]),(0,t.Lk)("div",j,[V,(0,t.Lk)("div",G,[(0,t.bo)((0,t.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>aa.uobs.fechainicio=a),required:"true"},null,512),[[s.Jo,aa.uobs.fechainicio]])])]),(0,t.Lk)("div",J,[R,(0,t.Lk)("div",X,[(0,t.bo)((0,t.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>aa.uobs.fechafin=a),required:"true"},null,512),[[s.Jo,aa.uobs.fechafin]])])]),(0,t.Lk)("div",Q,[P,(0,t.Lk)("div",K,[(0,t.bo)((0,t.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>aa.uobs.detalle=a),required:"true"},null,512),[[s.Jo,aa.uobs.detalle]])])]),(0,t.Lk)("div",Y,[N,(0,t.Lk)("div",Z,[(0,t.bo)((0,t.Lk)("select",{class:"form-control","onUpdate:modelValue":e[10]||(e[10]=a=>aa.uobs.tipo=a),required:"true",onChange:e[11]||(e[11]=a=>ea.getUTipo())},ca,544),[[s.u1,aa.uobs.tipo]])])]),ea.mostrarUHoraIngreso()?((0,t.uX)(),(0,t.CE)("div",ba,[ma,(0,t.Lk)("div",ha,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[12]||(e[12]=a=>aa.uobs.horaEntrada=a)},null,512),[[s.Jo,aa.uobs.horaEntrada]])])])):(0,t.Q3)("",!0),ea.mostrarUHoraSalida()?((0,t.uX)(),(0,t.CE)("div",fa,[(0,t.Lk)("label",pa,"Hora Salida"+(0,o.v_)(aa.uobs.horaEntrada),1),(0,t.Lk)("div",ga,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[13]||(e[13]=a=>aa.uobs.horaSalida=a)},null,512),[[s.Jo,aa.uobs.horaSalida]])])])):(0,t.Q3)("",!0),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:aa.uobs.url,alt:"",class:"img-fluid"},null,8,ka)])),_:1})])),_:1}),(0,t.bF)(Ta,null,{default:(0,t.k6)((()=>[(0,t.bF)(sa,{onClick:e[14]||(e[14]=a=>ea.clickModalObsEditar(!1)),color:"danger",class:"font"},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.Lk)("button",Ea,[(0,t.bF)(ta,{icon:"cil-check-alt",class:"me-2"}),(0,t.eW)(" Actualizar Observacion ")])])),_:1})],32)])),_:1},8,["visible"]),(0,t.bF)(Ma,{visible:aa.modalImgEditar,onClose:e[21]||(e[21]=a=>ea.clickModalImgEditar(!1))},{default:(0,t.k6)((()=>[(0,t.Lk)("form",{onSubmit:e[20]||(e[20]=(0,s.D$)((a=>ea.updateImgEmpleado()),["prevent"])),enctype:"multipart/form-data"},[(0,t.bF)(Sa,{class:"headercolor text-center",dismiss:"",onClose:e[17]||(e[17]=a=>ea.clickModalImgEditar(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(_a,null,{default:(0,t.k6)((()=>[va])),_:1})])),_:1}),(0,t.bF)(wa,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",La,[Oa,(0,t.Lk)("div",Aa,[(0,t.Lk)("input",{type:"file",ref:"obsfileimg",class:"form-control",accept:"image/png,image/jpeg",onChange:e[18]||(e[18]=a=>ea.selectFileImg()),required:"true"},null,544)])]),(0,t.bF)(na,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:aa.uobs.url,alt:"",class:"img-fluid"},null,8,Ca)])),_:1})])),_:1}),(0,t.bF)(Ta,null,{default:(0,t.k6)((()=>[(0,t.bF)(sa,{onClick:e[19]||(e[19]=a=>ea.clickModalImgEditar(!1)),color:"danger",class:"font"},{default:(0,t.k6)((()=>[(0,t.bF)(ta,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.Lk)("button",Fa,[(0,t.bF)(ta,{icon:"cil-check-alt",class:"me-2"}),(0,t.eW)(" Actualizar Observacion ")])])),_:1})],32)])),_:1},8,["visible"])],64)}i(4114);var Sa=i(7950),Da=i(7160),wa=i(1133),Ta=i(7590),Ma=i(903),xa=i(9995),Ia=i(6587),ya=i.n(Ia);Ma.A.use(xa.A);var $a={name:"ListaObsEliminadosView",components:{},data(){return{titulo:"Observaciones eliminadas por el Empleado",modalObs:!1,modalDetalleObs:!1,modalObsEditar:!1,modalImgEditar:!1,egovfService:null,uploadService:null,sccService:null,empleadoService:null,listaGestion:[],listaObs:[],listaTipoEmpleado:[],listaCiudadanoEmpleado:[],listaObsCiudadanos:[],tipo:0,gestion:0,listaMes:[{m:"01",mes:"Enero"},{m:"02",mes:"Febrero"},{m:"03",mes:"Marzo"},{m:"04",mes:"Abril"},{m:"05",mes:"Mayo"},{m:"06",mes:"Junio"},{m:"07",mes:"Julio"},{m:"08",mes:"Agosto"},{m:"09",mes:"Septiembre"},{m:"10",mes:"Octubre"},{m:"11",mes:"Noviembre"},{m:"12",mes:"Diciembre"}],archivo:"",usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:"",foto:""},obsall:{cif:null,uidobs:"",sexo:"",fechainicio:"",fechafin:"",detalle:"",tipo:"Seleccionar Tipo",hora:"08:30",url:""},obsDetalle:{id:0,idObs:0,cif:0,uidobs:"",fechainicio:"",fechafin:"",detalle:"",imagen:"",tipo:"",horaEntrada:"",horaSalida:"",url:"",estado:0},uobs:{id:0,idObs:0,cif:null,sexo:0,uidobs:"",fechainicio:"",fechafin:"",detalle:"",imagen:"",tipo:"",horaEntrada:"",horaSalida:"",url:"",estado:0}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.egovfService=new Sa.A,this.sccService=new Ta.A,this.uploadService=new Da.A,this.empleadoService=new wa.A},mounted(){this.getDatos(),this.getGestion(),this.getListaTipoEmpleado()},methods:{selectFile(){this.archivo=this.$refs.obsfile.files[0]},selectFileImg(){this.archivo=this.$refs.obsfileimg.files[0]},tablaObs(){this.$nextTick((()=>{ya()("#obsTabla").DataTable()}))},getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"))},getGestion(){var a=[];const e=new Date;for(var i=e.getFullYear(),t=2021;t<=i;t++)a.push(t);this.listaGestion=a,this.getListaObsEliminado()},async getListaObsEliminado(){await this.sccService.getListaObsEliminado().then((a=>{this.listaObs=a.data})),this.getListaCiudadanoEmpleado()},async getListaTipoEmpleado(){await this.empleadoService.getListaTipoEmpleado().then((a=>{this.listaTipoEmpleado=a.data}))},async getListaCiudadanoEmpleado(){await this.egovfService.getListaEmpleado().then((a=>{this.listaCiudadanoEmpleado=a.data})),this.getListaObsCiudadano()},getListaObsCiudadano(){this.listaObsCiudadanos=[],this.listaCiudadanoEmpleado.forEach((a=>{this.listaObs.forEach((e=>{var i={id:0,cif:0,nombre:"",uidobs:"",tipo:"",detalle:"",estado:0};return a.cif!=e.cif||(i.id=e.id,i.cif=e.cif,i.nombre=a.nombre+" "+a.paterno+" "+a.materno,i.uidobs=e.uidobs,i.tipo=e.tipo,i.detalle=e.detalle,i.estado=e.estado,this.listaObsCiudadanos.push(i),!1)}))})),this.tablaObs()},getObsDetalle(a){this.listaObs.forEach((e=>{e.id===a&&(this.obsDetalle.id=e.id,this.obsDetalle.idObs=e.idObs,this.obsDetalle.cif=e.cif,this.obsDetalle.uidobs=e.uidobs,this.obsDetalle.fechainicio=e.fechainicio,this.obsDetalle.fechafin=e.fechafin,this.obsDetalle.detalle=e.detalle,this.obsDetalle.imagen=e.imagen,this.obsDetalle.tipo=e.tipo,this.obsDetalle.horaEntrada=e.horaEntrada,this.obsDetalle.horaSalida=e.horaSalida,this.obsDetalle.url=e.url,this.obsDetalle.estado=e.estado)})),this.clickModalDetalleObs(!0)},async updateObsBio(a,e){var i={id:0,cif:0,idObs:0,horaEntrada:"",horaSalida:"",hEntrada:0,hSalida:0,mEntrada:0,mSalida:0,estado:0};this.listaObs.forEach((t=>{t.id==a&&(i.id=t.id,i.cif=t.cif,i.idObs=t.idObs,i.horaEntrada=t.horaEntrada,i.hEntrada=t.hEntrada,i.mEntrada=t.mEntrada,i.horaSalida=t.horaSalida,i.hSalida=t.hSalida,i.mSalida=t.mSalida,i.estado=e)})),await this.$swal.fire({title:"Desea Aprobar la Observacion  ? ",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((a=>{a.isConfirmed?this.sccService.updateObsBio(i).then((a=>{200==a.status?this.$swal.fire("Observacion Actualizada Corectamente","","success").then((a=>{a&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error"+a.status,"","error")})):a.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},async updateObsEmpleado(){this.$swal.fire({title:"Deseas Actualizar la Observacion de Tu Asistencia ?",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((a=>{a.isConfirmed?this.sccService.updateObsEmpleado(this.uobs).then((a=>{200==a.status?this.$swal.fire("La Observacion fue Actualizada Corectamente","","success").then((a=>{a&&location.reload()})):this.$swal.fire("La Observacion no pudo ser Registrada",""+a.status,"error")})):a.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},async updateImgEmpleado(){const a=new FormData;a.append("archivo",this.archivo);try{await this.uploadService.addImagen(a).then((a=>{200==a.status?(this.uobs.url=this.uploadService.getUrl()+a.data.nombre,this.uobs.imagen=a.data.nombre,this.$swal.fire({title:"Desea agregar la Observacione de Asistencia a los Empleados?",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((a=>{a.isConfirmed?this.sccService.updateObsEmpleado(this.uobs).then((a=>{200==a.status?this.$swal.fire("El Documento fue Actualizado Corectamente ","","success").then((a=>{a&&location.reload()})):this.$swal.fire("El Documento no fue Guardad Error"+a.status,"","error")})):a.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))):this.$swal.fire("El archivo no pudo ser Guardado  ","","error")}))}catch(e){this.$swal.fire("El archivo no pudo ser Guardado  "+e,"error")}},setObs(a){this.listaObs.forEach((e=>{e.id===a&&(this.uobs.id=a,this.uobs.idObs=e.idObs,this.uobs.cif=e.cif,this.uobs.sexo=e.sexo,this.uobs.uidobs=e.uidobs,this.uobs.fechainicio=e.fechainicio,this.uobs.fechafin=e.fechafin,this.uobs.detalle=e.detalle,this.uobs.imagen=e.imagen,this.uobs.tipo=e.tipo,this.uobs.horaEntrada=e.horaEntrada,this.uobs.horaSalida=e.horaSalida,this.uobs.url=e.url,this.uobs.estado=e.estado)})),this.clickModalObsEditar(!0)},setImg(a){this.listaObs.forEach((e=>{e.id===a&&(this.uobs.id=a,this.uobs.idObs=e.idObs,this.uobs.cif=e.cif,this.uobs.sexo=e.sexo,this.uobs.uidobs=e.uidobs,this.uobs.fechainicio=e.fechainicio,this.uobs.fechafin=e.fechafin,this.uobs.detalle=e.detalle,this.uobs.imagen=e.imagen,this.uobs.tipo=e.tipo,this.uobs.horaEntrada=e.horaEntrada,this.uobs.horaSalida=e.horaSalida,this.uobs.url=e.url,this.uobs.estado=e.estado)})),this.clickModalImgEditar(!0)},clickModalDetalleObs(a){this.modalDetalleObs=a},clickModalObsEditar(a){this.modalObsEditar=a},clickModalImgEditar(a){this.modalImgEditar=a},moduloScc(a){this.$router.push({name:"ModuloSccView",params:{cifCiudadano:a}})},getUTipo(){"Entrada M."==this.uobs.tipo&&(this.uobs.horaEntrada="08:30"),"Salida M."==this.uobs.tipo&&(this.uobs.horaSalida="12:30"),"Entrada T."==this.uobs.tipo&&(this.uobs.horaEntrada="14:30"),"Salida T."==this.uobs.tipo&&(this.uobs.horaSalida="18:30"),"continuo"==this.uobs.tipo&&(this.uobs.horaEntrada="08:30",this.uobs.horaSalida="16:30"),"continuoingreso"==this.uobs.tipo&&(this.uobs.horaEntrada="08:30",this.uobs.horaSalida="16:30"),"asueto"==this.uobs.tipo&&(this.uobs.horaEntrada="08:30")},mostrarUHoraIngreso(){const a=["continuoingreso","Entrada M.","Entrada T.","horas","extraordinario","comision","permiso"];return a.includes(this.uobs.tipo)},mostrarUHoraSalida(){const a=["continuoingreso","continuo","Salida M.","Salida T."];return a.includes(this.uobs.tipo)}}},Ba=i(1241);const Ua=(0,Ba.A)($a,[["render",_a],["__scopeId","data-v-8a8ff91c"]]);var Ha=Ua}}]);
//# sourceMappingURL=112.c32ea95e.js.map