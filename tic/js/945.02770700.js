"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[945],{1133:function(e,o,t){t.d(o,{A:function(){return s}});var a=t(4373),i=t(1660);const l=i.Qy;class s{getEmpleado(e){return a.A.get(l+"empleado/getEmpleado",{params:{cif:e}})}getListaTipoEmpleado(){return a.A.get(l+"tipo/listar")}getListarEmpleadoModuloCif(e){return a.A.get(l+"modulo/getListarEmpleadoModuloCif",{params:{cif:e}})}getListarEmpleadoModulo(e){return a.A.get(l+"modulo/getListarEmpleadoModulo",{params:{cif:e}})}addContrato(e){const o=new Date;let t=e.numerocontrato;const i={cif:e.cif,numero_contrato:t.toUpperCase(),servicio:e.servicio,unidad:e.unidad,inicio:e.inicio,fin:e.fin,gestion:o.getFullYear(),detalle:e.detalle,idTipoEmpleado:e.idTipoEmpleado,cargo:e.cargo,foto:e.foto};return a.A.post(l+"contrato/addContrato",i)}updateContrato(e,o){let t=e.numerocontrato;const i={id:e.id,cif:e.cif,numero_contrato:t.toUpperCase(),servicio:e.servicio,unidad:e.unidad,inicio:e.inicio,fin:e.fin,gestion:e.gestion,detalle:e.detalle,idTipoEmpleado:e.idTipoEmpleado,foto:o,cargo:e.cargo};return a.A.put(l+"contrato/updateContrato",i)}getTipoEmpleado(e){return a.A.get(l+"tipo/getTipoEmpleado",{params:{id:e}})}getListaEmpleado(e){return a.A.get(l+"empleado/getListaEmpleado",{params:{tipo:e}})}getEmpleados(){return a.A.get(l+"empleado/getEmpleados")}getListaModulo(){return a.A.get(l+"modulo/listar")}addEmpleadoModulo(e){const o={cif:e.cif,id_modulo:e.id_modulo,estado:1};return a.A.post(l+"empmodulo/addEmpleadoModulo",o)}updateEmpleadoEliminar(e){const o={id:e.id,cif:e.cif,tipo_empleado_id:0,fecha:"",estado:0,salida:"",foto:""};return a.A.put(l+"empleado/updateEmpleado",o)}updateFoto(e,o){const t={id:0,cif:e,tipo_empleado_id:0,fecha:"",estado:0,salida:"",foto:o};return a.A.put(l+"empleado/updateFoto",t)}getListaEmpleadoTipo(e){return a.A.get(l+"empleado/listarTipo",{params:{tipo:e}})}}},7950:function(e,o,t){t.d(o,{A:function(){return s}});var a=t(4373),i=t(1660);const l=i.j6;class s{headersUsuario(e){a.A.defaults.headers.common["Authorization"]="Bearer "+e}getEgovf(e){return a.A.get(l+"ciudadano/getEgovf",{params:{cif:e}})}getListaCiudadano(){return a.A.get(l+"ciudadano/getListaCiudadano")}getListaCiudadanoPublico(){return a.A.get(l+"ciudadano/getListaCiudadanoPublico")}getListaEmpleado(){return a.A.get(l+"ciudadano/getListaEmpleado")}}},945:function(e,o,t){t.r(o),t.d(o,{default:function(){return b}});var a=t(6768);const i=(0,a.Lk)("br",null,null,-1);function l(e,o,t,l,s,d){const u=(0,a.g2)("ComponenteMEmpVue");return(0,a.uX)(),(0,a.CE)(a.FK,null,[i,(0,a.bF)(u,{emp:s.egovf},null,8,["emp"])],64)}t(4114);var s=t(4232);const d={class:"table"},u=(0,a.Lk)("br",null,null,-1),r=(0,a.Lk)("hr",null,null,-1),n={class:"table"},c=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"#"),(0,a.Lk)("th",null,"NÂ° Contrato"),(0,a.Lk)("th",null,"Servicio"),(0,a.Lk)("th",null,"Fechas"),(0,a.Lk)("th",null,"Detalle")])],-1),p=(0,a.Lk)("br",null,null,-1),g=(0,a.Lk)("tfoot",null,[(0,a.Lk)("tr")],-1);function f(e,o,t,i,l,f){const m=(0,a.g2)("CCol"),h=(0,a.g2)("CRow"),k=(0,a.g2)("CCardHeader"),v=(0,a.g2)("CBadge"),_=(0,a.g2)("CCardImage"),C=(0,a.g2)("CCardBody"),E=(0,a.g2)("CButton"),L=(0,a.g2)("CCardFooter"),b=(0,a.g2)("CCard");return(0,a.uX)(),(0,a.Wv)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{lg:12},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"headercolor"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{lg:12},{default:(0,a.k6)((()=>[(0,a.eW)("Modulos Del Empleado")])),_:1})])),_:1})])),_:1}),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{xs:12,class:"table-responsive"},{default:(0,a.k6)((()=>[(0,a.Lk)("table",d,[(0,a.Lk)("tbody",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",null,[(0,a.bF)(v,{color:"dark"},{default:(0,a.k6)((()=>[(0,a.eW)("Tipo : "+(0,s.v_)(l.empleado.empleado),1)])),_:1})]),(0,a.Lk)("td",null,[(0,a.bF)(v,{color:"dark"},{default:(0,a.k6)((()=>[(0,a.eW)("Ingreso : "+(0,s.v_)(l.empleado.fecha),1)])),_:1})]),(0,a.Lk)("td",null,[(0,a.bF)(v,{color:"dark"},{default:(0,a.k6)((()=>[(0,a.eW)("Salida : "+(0,s.v_)(l.empleado.salida),1)])),_:1})]),(0,a.Lk)("td",null,[1==l.empleado.estado?((0,a.uX)(),(0,a.Wv)(v,{key:0,color:"success"},{default:(0,a.k6)((()=>[(0,a.eW)("Estado : Activo")])),_:1})):((0,a.uX)(),(0,a.Wv)(v,{key:1,color:"danger"},{default:(0,a.k6)((()=>[(0,a.eW)("Estado : Inactivo")])),_:1}))])])])])])),_:1}),(0,a.bF)(m,{xs:12},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.listaModuloCif,(e=>((0,a.uX)(),(0,a.Wv)(m,{lg:2,class:"text-center",key:e.id},{default:(0,a.k6)((()=>[u,(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,{orientation:"top",src:l.egovf.foto},null,8,["src"]),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e._01nombre),1)])),_:2},1024),(0,a.bF)(L,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{color:"success",class:"font"},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e._01nombre),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),r,(0,a.bF)(m,{xs:12,class:"table-responsive"},{default:(0,a.k6)((()=>[(0,a.Lk)("table",n,[c,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.contratos,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,s.v_)(e.id),1),(0,a.Lk)("td",null,[(0,a.eW)((0,s.v_)(e.numeroContrato),1),p,(0,a.eW)(" "+(0,s.v_)(e.unidad),1)]),(0,a.Lk)("td",null,(0,s.v_)(e.servicio),1),(0,a.Lk)("td",null,[(0,a.bF)(v,{color:"dark"},{default:(0,a.k6)((()=>[(0,a.eW)("Fecha Inicio: "+(0,s.v_)(e.inicio),1)])),_:2},1024),(0,a.bF)(v,{color:"dark"},{default:(0,a.k6)((()=>[(0,a.eW)("Fecha Fin:"+(0,s.v_)(e.fin),1)])),_:2},1024),(0,a.bF)(v,{color:"dark"},{default:(0,a.k6)((()=>[(0,a.eW)("Gestion: "+(0,s.v_)(e.gestion),1)])),_:2},1024)]),(0,a.Lk)("td",null,(0,s.v_)(e.detalle),1)])))),128))]),g])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var m=t(1133),h={name:"ComponenteMEmpVue",props:["emp"],components:{},data(){return{empleadoService:null,listaModulo:[],listaModuloCif:[],contratos:[],getPB:!0,empleado:{id:0,cif:0,empleado:"",tipoempleado_id:0,fecha:"",estado:0,salida:"",contratos:[]},usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},empleado_modulo:{cif:0,id_modulo:0},egovf:{idPersona:0,nombre:"",paterno:"",materno:"",fecha:"",sexo:0,idUsuario:0,cif:0,matricula:0,ci:"",ci_com:0,complemento:"",correo:"",celular:"",pass:"",unidad:"",dependiente:"",sigla:""}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.empleadoService=new m.A},mounted(){this.getDatos()},updated(){this.egovf=this.emp,this.egovf.cif>0&&this.getPB&&(this.getEmpleado(),this.getListarEmpleadoModuloCif(),this.getPB=!1)},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"))},async getEmpleado(){await this.empleadoService.getEmpleado(this.egovf.cif).then((e=>{this.empleado=e.data,this.verificado=this.empleado.id,this.contratos=this.empleado.contratos}))},async getListarEmpleadoModuloCif(){await this.empleadoService.getListarEmpleadoModuloCif(this.egovf.cif).then((e=>{this.listaModuloCif=e.data}))},getModulo(e){this.$router.push({name:e,params:{cifCiudadano:this.egovf.cif}})}}},k=t(1241);const v=(0,k.A)(h,[["render",f]]);var _=v,C=t(7950),E={name:"UModuloEmpView",components:{ComponenteMEmpVue:_},data(){return{titulo:"Modulos del Empleado",egovfService:null,cifCiudadano:"",usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},egovf:{idPersona:0,nombre:"",paterno:"",materno:"",fecha:"",sexo:0,idUsuario:0,cif:0,matricula:0,ci:"",ci_com:0,complemento:"",correo:"",celular:"",pass:"",unidad:"",dependiente:"",sigla:""}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.egovfService=new C.A},mounted(){this.cifCiudadano=this.$cookies.get("cif"),this.getDatos(),this.getEgovf()},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"))},async getEgovf(){this.egovfService.headersUsuario(this.usuario.token),await this.egovfService.getEgovf(this.cifCiudadano).then((e=>{this.egovf=e.data}))}}};const L=(0,k.A)(E,[["render",l]]);var b=L}}]);
//# sourceMappingURL=945.02770700.js.map