"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[202],{1133:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(4373),o=t(1660);const s=o.Qy;class i{getEmpleado(e){return l.A.get(s+"empleado/getEmpleado",{params:{cif:e}})}getListaTipoEmpleado(){return l.A.get(s+"tipo/listar")}getListarEmpleadoModuloCif(e){return l.A.get(s+"modulo/getListarEmpleadoModuloCif",{params:{cif:e}})}getListarEmpleadoModulo(e){return l.A.get(s+"modulo/getListarEmpleadoModulo",{params:{cif:e}})}addContrato(e){const a=new Date;let t=e.numerocontrato;const o={cif:e.cif,numero_contrato:t.toUpperCase(),servicio:e.servicio,unidad:e.unidad,inicio:e.inicio,fin:e.fin,gestion:a.getFullYear(),detalle:e.detalle,idTipoEmpleado:e.idTipoEmpleado,cargo:e.cargo,foto:e.foto};return l.A.post(s+"contrato/addContrato",o)}updateContrato(e,a){let t=e.numerocontrato;const o={id:e.id,cif:e.cif,numero_contrato:t.toUpperCase(),servicio:e.servicio,unidad:e.unidad,inicio:e.inicio,fin:e.fin,gestion:e.gestion,detalle:e.detalle,idTipoEmpleado:e.idTipoEmpleado,foto:a,cargo:e.cargo};return l.A.put(s+"contrato/updateContrato",o)}getTipoEmpleado(e){return l.A.get(s+"tipo/getTipoEmpleado",{params:{id:e}})}getListaEmpleado(e){return l.A.get(s+"empleado/getListaEmpleado",{params:{tipo:e}})}getEmpleados(){return l.A.get(s+"empleado/getEmpleados")}getListaModulo(){return l.A.get(s+"modulo/listar")}addEmpleadoModulo(e){const a={cif:e.cif,id_modulo:e.id_modulo,estado:1};return l.A.post(s+"empmodulo/addEmpleadoModulo",a)}updateEmpleadoEliminar(e){const a={id:e.id,cif:e.cif,tipo_empleado_id:0,fecha:"",estado:0,salida:"",foto:""};return l.A.put(s+"empleado/updateEmpleado",a)}updateFoto(e,a){const t={id:0,cif:e,tipo_empleado_id:0,fecha:"",estado:0,salida:"",foto:a};return l.A.put(s+"empleado/updateFoto",t)}getListaEmpleadoTipo(e){return l.A.get(s+"empleado/listarTipo",{params:{tipo:e}})}}},9115:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(4373),o=t(1660);const s=o.WT;class i{getUnidades(){return l.A.get(s+"unidad/getUnidades")}addPertenece(e,a){var t=new Date;const o={id_unidad:a.id,cif:e.cif,fecha:t.toLocaleDateString("en-US"),estado:!0,gestion:t.getFullYear()};return l.A.post(s+"pertenece/addPertenece",o)}registrarUnidad(e){const a={_01unidad:e.unidad.charAt(0).toUpperCase()+e.unidad.slice(1).toLowerCase(),_02dependiente:e.dependiente.charAt(0).toUpperCase()+e.dependiente.slice(1).toLowerCase(),_03sigla:e.sigla.toUpperCase(),_04telefono:e.telefono,_05correo:e.correo};return l.A.post(s+"unidad/agregar",a)}}},7950:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(4373),o=t(1660);const s=o.j6;class i{headersUsuario(e){l.A.defaults.headers.common["Authorization"]="Bearer "+e}getEgovf(e){return l.A.get(s+"ciudadano/getEgovf",{params:{cif:e}})}getListaCiudadano(){return l.A.get(s+"ciudadano/getListaCiudadano")}getListaCiudadanoPublico(){return l.A.get(s+"ciudadano/getListaCiudadanoPublico")}getListaEmpleado(){return l.A.get(s+"ciudadano/getListaEmpleado")}}},7525:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(4373),o=t(1660);const s=o.j6;class i{headersUsuario(e){l.A.defaults.headers.common["Authorization"]="Bearer "+e}addPersona(e){var a=e.fecha.split("-"),t=a[2]+"/"+a[1]+"/"+a[0];const o={cif:0,ci:e.ci,complemento:e.complemento,nombre:e.nombre.charAt(0).toUpperCase()+e.nombre.slice(1),paterno:e.paterno.charAt(0).toUpperCase()+e.paterno.slice(1),materno:e.materno.charAt(0).toUpperCase()+e.materno.slice(1),fecha:t,sexo:e.sexo,cel:e.cel,correo:e.correo};return l.A.post(s+"persona/addPersona",o)}getListaCiudadanos(){return l.A.get(s+"listaPersona")}getListaPersonas(){return l.A.get(s+"listaPersonas")}getPersona(e){return l.A.get(s+"getPerfil",{params:{cif:e}})}}},6025:function(e,a,t){t.d(a,{A:function(){return r}});var l=t(4373),o=t(1660);const s=o.ru,i=o.j6;class r{getToken(e){var a={id:e.id,cif:e.cif,matricula:e.matricula,ci:e.ci,complemento:e.complemento,correo:e.correo,celular:e.celular,pass:e.pass};return l.A.post(s+"login",a)}headersUsuario(e){l.A.defaults.headers.common["Authorization"]="Bearer "+e}getPerfil(e){return l.A.get(s+"getPerfil",{params:{cif:e}})}getUsuario(e){return l.A.get(s+"getUsuario",{params:{cif:e}})}updatePersona(e){const a={id:e.idPersona,cif:e.cif,ci:e.ci_com,complemento:e.complemento,nombre:e.nombre,paterno:e.paterno,materno:e.materno,fecha:e.fecha,sexo:e.sexo,cel:e.celular,correo:e.correo};return l.A.put(i+"persona/updatePersona",a)}updateUsuario(e){const a={id:e.idUsuario,cif:e.cif,matricula:e.matricula,ci:e.ci_com,complemento:e.complemento,correo:e.correo,celular:e.celular,pass:e.pass,unidad:e.unidad,dependiente:e.dependiente,sigla:e.sigla,foto:e.foto,empleado:e.empleado};return l.A.put(i+"usuario/updateUsuario",a)}updatePass(e){return l.A.put(i+"usuario/updatePass",e)}updatePassAdmin(e){return l.A.put(i+"usuario/updatePassAdmin",e)}updateUnidad(e,a){const t={id:e.idUsuario,cif:e.cif,matricula:e.matricula,ci:e.ci_com,complemento:e.complemento,correo:e.correo,celular:e.celular,pass:e.pass,unidad:a.unidad,dependiente:a.dependiente,sigla:a.sigla,foto:e.foto,empleado:e.idPersona};return l.A.put(i+"usuario/updateUsuario",t)}}},7160:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(4373),o=t(1660);const s=o.H4;class i{getListarCifCero(){return l.A.get("biometrico/listarCifCero")}addImagen(e,a){return l.A.post(s+"upload.php",e,{...a,headers:{"Content-Type":"multipart/form-data"}})}addFoto(e,a){return l.A.post(s+"foto.php",e,{...a,headers:{"Content-Type":"multipart/form-data"}})}getUrl(){return s+"imagenes/"}getImage(e){return l.A.get(e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}})}}},2453:function(e,a,t){t.d(a,{A:function(){return S}});var l=t(6768),o=t(4232),s=t(5130);const i=e=>((0,l.Qi)("data-v-0e3d777e"),e=e(),(0,l.jt)(),e),r={class:"mb-0 fs-6 text-white"},u=i((()=>(0,l.Lk)("label",{class:"d-none d-md-flex me-auto"},"Datos Personales",-1))),n=i((()=>(0,l.Lk)("label",{class:"d-none d-md-flex me-auto"},"Usuario",-1))),d=i((()=>(0,l.Lk)("label",{class:"d-none d-md-flex me-auto"},"Actualizar",-1))),c=i((()=>(0,l.Lk)("br",null,null,-1))),f=["src"],p=i((()=>(0,l.Lk)("br",null,null,-1))),m=i((()=>(0,l.Lk)("br",null,null,-1))),b=i((()=>(0,l.Lk)("br",null,null,-1))),g=["src"],h=i((()=>(0,l.Lk)("br",null,null,-1))),k=i((()=>(0,l.Lk)("br",null,null,-1))),v=i((()=>(0,l.Lk)("br",null,null,-1))),F=["src"],C=i((()=>(0,l.Lk)("br",null,null,-1))),_=i((()=>(0,l.Lk)("br",null,null,-1))),A=i((()=>(0,l.Lk)("br",null,null,-1))),P=i((()=>(0,l.Lk)("hr",null,null,-1))),z={class:"md-3 row text-center"},L=["src"];function y(e,a,t,i,y,w){const x=(0,l.g2)("CIcon"),W=(0,l.g2)("CAccordionHeader"),U=(0,l.g2)("CButton"),D=(0,l.g2)("CNavLink"),E=(0,l.g2)("CNavItem"),M=(0,l.g2)("CNav"),$=(0,l.g2)("CCol"),I=(0,l.g2)("CInputGroupText"),S=(0,l.g2)("CFormInput"),T=(0,l.g2)("CInputGroup"),B=(0,l.g2)("CRow"),N=(0,l.g2)("CTabPane"),V=(0,l.g2)("CWidgetStatsC"),G=(0,l.g2)("CTabContent"),j=(0,l.g2)("CAccordionBody"),R=(0,l.g2)("CAccordionItem"),X=(0,l.g2)("CAccordion"),H=(0,l.g2)("CModalTitle"),Q=(0,l.g2)("CModalHeader"),q=(0,l.g2)("ComponenteNombres"),O=(0,l.g2)("CModalBody"),Y=(0,l.g2)("CModalFooter"),K=(0,l.g2)("CModal"),J=(0,l.g2)("CAlert"),Z=(0,l.g2)("CProgressBar"),ee=(0,l.g2)("CProgress"),ae=(0,l.g2)("CForm");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(B,null,{default:(0,l.k6)((()=>[(0,l.bF)($,{lg:12},{default:(0,l.k6)((()=>[(0,l.bF)(X,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{"item-key":1},{default:(0,l.k6)((()=>[(0,l.bF)(W,{class:"accordion"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-user",size:"lg",class:"me-2 text-light"}),(0,l.Lk)("label",r,"Perfil del Ciudadano : "+(0,o.v_)(y.egovf.cif),1)])),_:1}),(0,l.bF)(j,null,{default:(0,l.k6)((()=>[(0,l.bF)(M,{variant:"tabs"},{default:(0,l.k6)((()=>[(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(D,{active:1==y.tab,onClick:a[0]||(a[0]=e=>w.clicktab(1))},{default:(0,l.k6)((()=>[(0,l.bF)(U,{size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-menu"}),u])),_:1})])),_:1},8,["active"])])),_:1}),(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(D,{active:2==y.tab,onClick:a[1]||(a[1]=e=>w.clicktab(2))},{default:(0,l.k6)((()=>[(0,l.bF)(U,{size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-user"}),n])),_:1})])),_:1},8,["active"])])),_:1}),(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(D,{active:3==y.tab,onClick:a[2]||(a[2]=e=>w.clicktab(3))},{default:(0,l.k6)((()=>[(0,l.bF)(U,{size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-cloud-upload"}),d])),_:1})])),_:1},8,["active"])])),_:1})])),_:1}),(0,l.bF)(G,null,{default:(0,l.k6)((()=>[(0,l.bF)(N,{visible:1==y.tab},{default:(0,l.k6)((()=>[(0,l.bF)(B,null,{default:(0,l.k6)((()=>[(0,l.bF)($,{lg:2},{default:(0,l.k6)((()=>[c,(0,l.Lk)("img",{src:"https://fhcevirtual.umsa.bo/egovf-img/imagenes/800/"+y.egovf.foto,class:"img-fluid rounded-start",alt:"..."},null,8,f)])),_:1}),(0,l.bF)($,{lg:5},{default:(0,l.k6)((()=>[p,(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Nombre")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.nombre,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Apellidos")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.paterno+" "+y.egovf.materno,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("C.I.")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.ci,disabled:""},null,8,["value"])])),_:1})])),_:1}),(0,l.bF)($,{lg:5},{default:(0,l.k6)((()=>[m,(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("ID app")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.idPersona,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Celular")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.celular,disabled:""},null,8,["value"]),(0,l.bF)(U,{type:"button",color:"success",class:"font",size:"sm",onClick:a[3]||(a[3]=e=>w.openWhatsApp(y.egovf.celular))},{default:(0,l.k6)((()=>[(0,l.eW)("Whatsapp")])),_:1})])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Fecha de Nacimiento")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.fecha,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Sexo")])),_:1}),1==y.egovf.sexo?((0,l.uX)(),(0,l.Wv)(S,{key:0,type:"text",value:"Femenino",disabled:""})):((0,l.uX)(),(0,l.Wv)(S,{key:1,type:"text",value:"Masculino",disabled:""}))])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.bF)(N,{visible:2==y.tab},{default:(0,l.k6)((()=>[(0,l.bF)(B,null,{default:(0,l.k6)((()=>[(0,l.bF)($,{lg:2},{default:(0,l.k6)((()=>[b,(0,l.Lk)("img",{src:"https://fhcevirtual.umsa.bo/egovf-img/imagenes/200/"+y.egovf.foto,class:"img-fluid rounded-start",alt:"..."},null,8,g)])),_:1}),(0,l.bF)($,{lg:5},{default:(0,l.k6)((()=>[h,(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("ID app")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.idUsuario,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("CIF")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.cif,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Matricula")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.matricula,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("C.I.")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.ci,disabled:""},null,8,["value"])])),_:1})])),_:1}),(0,l.bF)($,{lg:5},{default:(0,l.k6)((()=>[k,(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Correo")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.correo,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Celular")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.celular,disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Unidad")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.sigla,disabled:""},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.bF)(N,{visible:3==y.tab},{default:(0,l.k6)((()=>[(0,l.bF)(B,null,{default:(0,l.k6)((()=>[(0,l.bF)($,{lg:5},{default:(0,l.k6)((()=>[v,(0,l.bF)(V,{class:"mb-3",progress:{color:"success",value:100},title:"Visitors"},{icon:(0,l.k6)((()=>[(0,l.Lk)("img",{src:"https://fhcevirtual.umsa.bo/egovf-img/imagenes/800/"+y.egovf.foto,class:"img-fluid rounded-start",alt:"..."},null,8,F),C,(0,l.bF)(U,{color:"dark",onClick:a[4]||(a[4]=e=>w.clickModalFoto(!0)),size:"sm",class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-camera",class:"me-1"}),(0,l.eW)(" Actualizar Foto")])),_:1})])),title:(0,l.k6)((()=>[])),_:1})])),_:1}),(0,l.bF)($,{lg:7},{default:(0,l.k6)((()=>[_,(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Matricula")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.matricula,disabled:""},null,8,["value"]),(0,l.bF)(U,{type:"button",color:"success",class:"font",size:"sm"},{default:(0,l.k6)((()=>[(0,l.eW)("Actualizar")])),_:1})])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Celular")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.celular,disabled:""},null,8,["value"]),(0,l.bF)(U,{type:"button",color:"success",class:"font",size:"sm",onClick:a[5]||(a[5]=e=>w.clickModalCelular(!0))},{default:(0,l.k6)((()=>[(0,l.eW)("Actualizar")])),_:1})])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Correo")])),_:1}),(0,l.bF)(S,{type:"text",value:y.egovf.correo,disabled:""},null,8,["value"]),(0,l.bF)(U,{type:"button",color:"success",class:"font",size:"sm"},{default:(0,l.k6)((()=>[(0,l.eW)("Actualizar")])),_:1})])),_:1}),(0,l.bF)(T,{size:"sm",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Contraseña")])),_:1}),(0,l.bF)(S,{type:"text",value:"***************",disabled:""}),(0,l.bF)(U,{type:"button",color:"success",class:"font",size:"sm",onClick:a[6]||(a[6]=e=>w.clickModalPass(!0))},{default:(0,l.k6)((()=>[(0,l.eW)(" Actualizar Contraseña")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(K,{visible:y.modalCelular,onClose:a[11]||(a[11]=e=>w.clickModalCelular(!1))},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{class:"headercolor",dismiss:"",onClose:a[7]||(a[7]=e=>w.clickModalCelular(!1))},{default:(0,l.k6)((()=>[(0,l.bF)(H,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h6",null,[(0,l.bF)(x,{icon:"cil-at",size:"lg",class:"me-2"}),(0,l.eW)("Actualizar Numero de Celular")])])),_:1})])),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)((()=>[(0,l.bF)(q,{datos:y.datos},null,8,["datos"]),A,(0,l.bF)(T,{class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Nuevo Numero de Celular")])),_:1}),(0,l.bF)(S,{type:"text",modelValue:y.egovf.celular,"onUpdate:modelValue":a[8]||(a[8]=e=>y.egovf.celular=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.bF)(Y,null,{default:(0,l.k6)((()=>[(0,l.bF)(U,{onClick:a[9]||(a[9]=e=>w.clickModalCelular(!1)),color:"danger",class:"font"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-x",class:"me-2"}),(0,l.eW)("Cancelar")])),_:1}),(0,l.bF)(U,{onClick:a[10]||(a[10]=e=>w.updatePersona()),color:"success",class:"font"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-check-alt",class:"me-2"}),(0,l.eW)("Actualizar")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.bF)(K,{visible:y.modalPass,onClose:a[15]||(a[15]=e=>w.clickModalPass(!1))},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{class:"headercolor",dismiss:"",onClose:a[12]||(a[12]=e=>w.clickModalPass(!1))},{default:(0,l.k6)((()=>[(0,l.bF)(H,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h6",null,[(0,l.bF)(x,{icon:"cil-at",size:"lg",class:"me-2"}),(0,l.eW)("Actualizar Contraseña")])])),_:1})])),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)((()=>[(0,l.bF)(q,{datos:y.datos},null,8,["datos"]),P,(0,l.bF)(J,{color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)("La Contrasena se Actializara al CIF del Ciudadano")])),_:1})])),_:1}),(0,l.bF)(Y,null,{default:(0,l.k6)((()=>[(0,l.bF)(U,{onClick:a[13]||(a[13]=e=>w.clickModalPass(!1)),color:"danger",class:"font",size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-x",class:"me-2"}),(0,l.eW)("Cancelar")])),_:1}),(0,l.bF)(U,{onClick:a[14]||(a[14]=e=>w.updatePassAdmin()),color:"success",class:"font",size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-check-alt",class:"me-2"}),(0,l.eW)("Actualizar")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.bF)(K,{visible:y.modalFoto,onClose:a[19]||(a[19]=e=>w.clickModalFoto(!1))},{default:(0,l.k6)((()=>[(0,l.bF)(ae,{onSubmit:a[18]||(a[18]=(0,s.D$)((e=>w.updateFoto()),["prevent"])),enctype:"multipart/form-data"},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{class:"headercolor",dismiss:"",onClose:a[16]||(a[16]=e=>w.clickModalFoto(!1))},{default:(0,l.k6)((()=>[(0,l.bF)(H,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h6",null,[(0,l.bF)(x,{icon:"cil-description",size:"lg",class:"me-2"}),(0,l.eW)("Actualizar Foto de Perfil")])])),_:1})])),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)((()=>[(0,l.bF)(T,{class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(I,{as:"label"},{default:(0,l.k6)((()=>[(0,l.eW)("Foto de Perfil")])),_:1}),(0,l.bF)(S,{type:"file",ref:"fileInput",id:"filedoc",accept:"image/png,image/jpeg",onChange:w.selectFile,valid:y.fileValid,required:"true"},null,8,["onChange","valid"]),y.fileValid?((0,l.uX)(),(0,l.Wv)(I,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-check",class:"text-success"})])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.Lk)("div",z,[(0,l.Lk)("img",{src:y.nuevafoto,class:"img-fluid"},null,8,L)]),y.uploading?((0,l.uX)(),(0,l.Wv)(ee,{key:0,height:50,class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(Z,{value:y.uploadProgress,color:100===y.uploadProgress?"success":"warning",animated:""},{default:(0,l.k6)((()=>[(0,l.eW)(" Espere un Momento ........... "+(0,o.v_)(y.uploadProgress)+" % ",1)])),_:1},8,["value","color"])])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(Y,null,{default:(0,l.k6)((()=>[(0,l.bF)(U,{onClick:a[17]||(a[17]=e=>w.clickModalFoto(!1)),color:"danger",class:"font",size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-x",class:"me-2"}),(0,l.eW)("Cancelar")])),_:1}),(0,l.bF)(U,{type:"submit",class:"font",color:"success",size:"sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{icon:"cil-camera",class:"me-2"}),(0,l.eW)("Actualizar")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])],64)}t(4603),t(7566),t(8721);var w=t(3817),x=t(6025),W=t(7525),U=t(9115),D=t(1133),E=t(7160),M={name:"ComponenteDatosPersonalesVue",props:["cifCiudadano","egovfp"],components:{ComponenteNombres:w.A},data(){return{tab:1,modalCelular:!1,modalPass:!1,modalFoto:!1,usuarioService:null,personaService:null,unidadService:null,uploadService:null,empleadoService:null,listaUnidad:[],uploading:!1,uploadProgress:0,fileValid:!1,nuevafoto:"",what:"https://api.whatsapp.com/send?phone=591",getPB:!0,archivo:"",usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},egovf:{idPersona:0,nombre:"",paterno:"",materno:"",fecha:"",sexo:0,idUsuario:0,cif:0,matricula:0,ci:"",ci_com:0,complemento:"",correo:"",celular:"",pass:"",unidad:"",dependiente:"",sigla:"",foto:""},pass:{id:null,cif:"",pass1:"",pass2:"",pass3:""},unidad:{id:0,unidad:"",dependencia:"",sigla:""},datos:{cif:0,nombre:"",apellido:""}}},mounted(){},created(){this.usuarioService=new x.A,this.personaService=new W.A,this.unidadService=new U.A,this.uploadService=new E.A,this.empleadoService=new D.A},updated(){this.egovf=this.egovfp,this.nuevafoto="https://fhcevirtual.umsa.bo/egovf-img/imagenes/800/"+this.egovf.foto,this.cifCiudadano>0&&this.getPB&&(this.getDatosComponenteDatosPersona(),this.getPB=!1),this.datos.cif=this.egovf.cif,this.datos.nombre=this.egovf.nombre,this.datos.apellido=this.egovf.paterno+" "+this.egovf.materno},methods:{getDatosComponenteDatosPersona(){this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"),this.what,this.egovf.celular},updatePersona(){this.$swal.fire({title:"Desea Realizar los Cambios",icon:"info",showDenyButton:!0,confirmButtonText:"Actualizar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed?this.usuarioService.updatePersona(this.egovf).then((e=>{200==e.status?this.$swal.fire("Datos Guardados Corectamente","","success"):this.$swal.fire("Los Datos no fueron Guardados Error"+e.status,"","error")})):e.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},updateUsuario(){this.$swal.fire({title:"Desea Realizar los Cambios",showDenyButton:!0,confirmButtonText:"Actualizar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed?this.usuarioService.updateUsuario(this.egovf).then((e=>{200==e.status?this.$swal.fire("Datos Guardados Corectamente","","success"):this.$swal.fire("Los Datos no fueron Guardados Error"+e.status,"","error")})):e.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},updatePassAdmin(){this.pass.id=this.egovf.idUsuario,this.pass.cif=this.egovf.cif,this.$swal.fire({title:"Desea Realizar los Cambios",icon:"info",showDenyButton:!0,confirmButtonText:"Actualizar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed?this.usuarioService.updatePassAdmin(this.pass).then((e=>{200==e.status?this.$swal.fire("Datos Guardados Corectamente","","success"):this.$swal.fire("La Contraseña Actual no es Correcta Verifique e intente Nuevamente","","error")})):e.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},async getListaUnidades(){await this.unidadService.getListaUnidad().then((e=>{this.listaUnidad=e.data}))},selectFile(e){const a=this.getSafeFileInput(e);a?.files?.length?(this.archivo=a.files[0],this.validateFile(this.archivo)?(this.fileValid=!0,this.nuevafoto=URL.createObjectURL(this.archivo)):this.resetFileInput()):this.resetFileInput()},async updateFoto(){this.uploading=!0,this.uploadProgress=0;try{const e=new FormData;e.append("archivo",this.archivo);const a={onUploadProgress:e=>{this.uploadProgress=Math.round(100*e.loaded/e.total)}},t=await this.uploadService.addFoto(e,a);if(200!==t.status)throw new Error("Error al subir archivo");this.egovf.foto=t.data.nombre,this.$swal.fire({title:"Desea Subir su foto de perfil ?",showDenyButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed?this.usuarioService.updateUsuario(this.egovf).then((e=>{200==e.status?(this.empleadoService.updateFoto(this.egovf.cif,this.egovf.foto),this.$swal.fire("La Foto de Perfil fue guardado correctamente","","success").then((e=>{e&&location.reload()}))):this.$swal.fire("La Foto de Perfil no pudo ser Guardado, intente mas tarde"+e.status,"","error")})):e.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))}catch(e){this.$swal.fire("La foto de Perfil No puede ser guardado Intente mas tarde","error")}finally{this.uploading=!1,this.uploadProgress=0}},clicktab(e){this.tab=e},clickModalCelular(e){this.modalCelular=e},clickModalPass(e){this.modalPass=e},clickModalFoto(e){this.modalFoto=e},openWhatsApp(e){const a=e.replace(/[^\d]/g,"");a.length>=8?window.open(`https://wa.me/${a}`,"_blank"):this.$toast.error("Número de teléfono inválido")},getSafeFileInput(e){return this.$refs.fileInput?.$refs?.input||e?.target||this.$refs.fileInput?.$el?.querySelector?.('input[type="file"]')||document.getElementById("filedoc")},validateFile(e){const a=["image/jpeg","image/png"];return e&&a.includes(e.type)},resetFileInput(){this.archivo=null,this.fileValid=!1;const e=this.getSafeFileInput();e&&(e.value="")}}},$=t(1241);const I=(0,$.A)(M,[["render",y],["__scopeId","data-v-0e3d777e"]]);var S=I},3817:function(e,a,t){t.d(a,{A:function(){return u}});var l=t(6768);function o(e,a,t,o,s,i){const r=(0,l.g2)("CIcon"),u=(0,l.g2)("CWidgetStatsF"),n=(0,l.g2)("CCol"),d=(0,l.g2)("CRow");return(0,l.uX)(),(0,l.Wv)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(n,{xs:12},{default:(0,l.k6)((()=>[(0,l.bF)(u,{color:"dark",padding:!1,title:t.datos.nombre+" "+t.datos.apellido,value:"CIF : "+t.datos.cif},{icon:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"cil-user",size:"xl"})])),_:1},8,["title","value"])])),_:1})])),_:1})}var s={name:"ComponenteNombres",props:["datos"]},i=t(1241);const r=(0,i.A)(s,[["render",o]]);var u=r}}]);
//# sourceMappingURL=202.7ae439da.js.map