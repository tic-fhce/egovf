{"version":3,"file":"js/424.fe53bf49.js","mappings":"iKAEA,MAAMA,EAAWC,EAAAA,GAEF,MAAMC,EACnBC,cAAAA,CAAeC,GACbC,EAAAA,EAAMC,SAASC,QAAQC,OAAO,iBAAmB,UAAYJ,CAC/D,CAEAK,QAAAA,CAASC,GACP,OAAOL,EAAAA,EAAMM,IAAIX,EAAW,qBAAsB,CAChDY,OAAQ,CACNF,IAAKA,IAGX,CACAG,iBAAAA,GACE,OAAOR,EAAAA,EAAMM,IAAIX,EAAW,8BAC9B,CACAc,gBAAAA,GAEE,OAAOT,EAAAA,EAAMM,IAAIX,EAAW,6BAC9B,E,qGCRsBe,EAAAA,EAAAA,IAAuD,MAAnDC,MAAM,eAAc,8BAA0B,G,GAC7CA,MAAM,oB,GACAA,MAAM,kCAAkCC,GAAG,mB,GAC9CF,EAAAA,EAAAA,IAIQ,eAHJA,EAAAA,EAAAA,IAEK,YADDA,EAAAA,EAAAA,IAAU,UAAN,MAAMA,EAAAA,EAAAA,IAAgB,UAAZ,YAAYA,EAAAA,EAAAA,IAAiB,UAAb,aAAaA,EAAAA,EAAAA,IAAU,UAAN,SAAC,G,GAIhDA,EAAAA,EAAAA,IAAU,UAAN,KAAC,G,GAAKA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,G,GACvBA,EAAAA,EAAAA,IAAU,UAAN,KAAC,G,GAAKA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,G,GACrBA,EAAAA,EAAAA,IAAU,UAAN,KAAC,G,GAAKA,EAAAA,EAAAA,IAAsB,UAAlB,iBAAa,G,GAC3BA,EAAAA,EAAAA,IAAU,UAAN,KAAC,G,GAAKA,EAAAA,EAAAA,IAA4B,UAAxB,uBAAmB,G,GACrCA,EAAAA,EAAAA,IAAS,mB,GAMrBA,EAAAA,EAAAA,IAAmD,MAA/CC,MAAM,eAAc,0BAAsB,G,GAC9CD,EAAAA,EAAAA,IAAI,mB,GACCC,MAAM,oB,GACAA,MAAM,kCAAkCC,GAAG,e,GAC9CF,EAAAA,EAAAA,IAIQ,eAHJA,EAAAA,EAAAA,IAEK,YADDA,EAAAA,EAAAA,IAAU,UAAN,MAAMA,EAAAA,EAAAA,IAAY,UAAR,QAAQA,EAAAA,EAAAA,IAAa,UAAT,SAASA,EAAAA,EAAAA,IAA4B,UAAxB,wBAAwBA,EAAAA,EAAAA,IAAe,UAAX,WAAWA,EAAAA,EAAAA,IAAkB,UAAd,cAAcA,EAAAA,EAAAA,IAAgC,UAA5B,+BAAuB,G,GAcnIA,EAAAA,EAAAA,IAIQ,eAHJA,EAAAA,EAAAA,IAEK,YADDA,EAAAA,EAAAA,IAAS,OAAAA,EAAAA,EAAAA,IAAS,OAAAA,EAAAA,EAAAA,IAAS,OAAAA,EAAAA,EAAAA,IAAS,OAAAA,EAAAA,EAAAA,IAAS,OAAAA,EAAAA,EAAAA,IAAS,OAAAA,EAAAA,EAAAA,IAAS,a,sMAtDnGG,EAAAA,EAAAA,IA+DOC,EAAA,MAhEXC,SAAAC,EAAAA,EAAAA,KAEQ,IA6DO,EA7DPC,EAAAA,EAAAA,IA6DOC,EAAA,CA7DAC,GAAI,IAAE,CAFrBJ,SAAAC,EAAAA,EAAAA,KAGY,IA2DQ,EA3DRC,EAAAA,EAAAA,IA2DQG,EAAA,MA9DpBL,SAAAC,EAAAA,EAAAA,KAIgB,IAOc,EAPdC,EAAAA,EAAAA,IAOcI,EAAA,CAPDV,MAAM,eAAa,CAJhDI,SAAAC,EAAAA,EAAAA,KAKoB,IAKO,EALPC,EAAAA,EAAAA,IAKOH,EAAA,MAV3BC,SAAAC,EAAAA,EAAAA,KAMwB,IAAyG,EAAzGC,EAAAA,EAAAA,IAAyGC,EAAA,CAAlGI,GAAI,EAAGX,MAAM,e,CAN5CI,SAAAC,EAAAA,EAAAA,KAM0D,IAA8B,EANxFO,EAAAA,EAAAA,IAM0D,kCAA8BC,EAAAA,EAAAA,IAAGC,EAAAC,KAAM,SAAKF,EAAAA,EAAAA,IAAGC,EAAAE,OAAOC,SAAO,MANvHC,EAAA,KAOwBZ,EAAAA,EAAAA,IAEOC,EAAA,CAFAI,GAAI,EAAGX,MAAM,Y,CAP5CI,SAAAC,EAAAA,EAAAA,KAQ4B,IAA2I,EAA3IC,EAAAA,EAAAA,IAA2Ia,EAAA,CAAlIC,MAAM,UAAUpB,MAAM,OAAQqB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,aAAaC,KAAK,M,CAR5FtB,SAAAC,EAAAA,EAAAA,KAQiG,IAA+C,EAA/CC,EAAAA,EAAAA,IAA+CqB,EAAA,CAAxCC,KAAK,qBAAqB5B,MAAM,UARxIY,EAAAA,EAAAA,IAQgJ,oBARhJM,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAYgBZ,EAAAA,EAAAA,IAiDYuB,EAAA,MA7D5BzB,SAAAC,EAAAA,EAAAA,KAaoB,IAkBO,EAlBPC,EAAAA,EAAAA,IAkBOH,EAAA,MA/B3BC,SAAAC,EAAAA,EAAAA,KAcwB,IAAuD,CAAvDyB,GACA/B,EAAAA,EAAAA,IAeM,MAfNgC,EAeM,EAdFhC,EAAAA,EAAAA,IAaQ,QAbRiC,EAaQ,CAZJC,GAKAlC,EAAAA,EAAAA,IAMQ,eALJA,EAAAA,EAAAA,IAA4H,WAAxHmC,EAAUC,GAAkBpC,EAAAA,EAAAA,IAAgC,WAAAc,EAAAA,EAAAA,IAAzBC,EAAAsB,QAAQC,WAAS,IAAQtC,EAAAA,EAAAA,IAAuD,WAAAc,EAAAA,EAAAA,KAA/CC,EAAAsB,QAAQC,UAAUvB,EAAAwB,GAAK,KAAKC,QAAQ,IAAK,IAAC,MAClHxC,EAAAA,EAAAA,IAAsH,WAAlHyC,EAAUC,GAAgB1C,EAAAA,EAAAA,IAA8B,WAAAc,EAAAA,EAAAA,IAAvBC,EAAAsB,QAAQM,SAAO,IAAQ3C,EAAAA,EAAAA,IAAqD,WAAAc,EAAAA,EAAAA,KAA7CC,EAAAsB,QAAQM,QAAQ5B,EAAAwB,GAAK,KAAKC,QAAQ,IAAK,IAAC,MAC5GxC,EAAAA,EAAAA,IAAsH,WAAlH4C,EAAUC,GAAsB7C,EAAAA,EAAAA,IAA2B,WAAAc,EAAAA,EAAAA,IAApBC,EAAAsB,QAAQS,MAAI,IAAQ9C,EAAAA,EAAAA,IAAkD,WAAAc,EAAAA,EAAAA,KAA1CC,EAAAsB,QAAQS,KAAK/B,EAAAwB,GAAK,KAAKC,QAAQ,IAAK,IAAC,MAC5GxC,EAAAA,EAAAA,IAAoI,WAAhI+C,EAAUC,GAA4BhD,EAAAA,EAAAA,IAA+B,WAAAc,EAAAA,EAAAA,IAAxBC,EAAAsB,QAAQY,UAAQ,IAAQjD,EAAAA,EAAAA,IAAsD,WAAAc,EAAAA,EAAAA,KAA9CC,EAAAsB,QAAQY,SAASlC,EAAAwB,GAAK,KAAKC,QAAQ,IAAK,IAAC,KAC1HU,WA3BpC/B,EAAA,KAgCoBZ,EAAAA,EAAAA,IA4BOH,EAAA,MA5D3BC,SAAAC,EAAAA,EAAAA,KAiCwB,IAAmD,CAAnD6C,EACAC,GACApD,EAAAA,EAAAA,IAwBM,MAxBNqD,EAwBM,EAvBFrD,EAAAA,EAAAA,IAsBQ,QAtBRsD,EAsBQ,CArBJC,GAKAvD,EAAAA,EAAAA,IAUQ,6BATJwD,EAAAA,EAAAA,IAQKC,EAAAA,GAAA,MAnDzCC,EAAAA,EAAAA,IA2C4D3C,EAAA4C,QAAbC,K,WAAXJ,EAAAA,EAAAA,IAQK,MAR4BK,IAAKD,EAAU1D,I,EAC5CF,EAAAA,EAAAA,IAAyB,WAAAc,EAAAA,EAAAA,IAAnB8C,EAAU1D,IAAE,IAClBF,EAAAA,EAAAA,IAAgH,YAA5GO,EAAAA,EAAAA,IAAuGa,EAAA,CAA9FC,MAAM,UAAUpB,MAAM,OAAQqB,QAAKE,GAAEC,EAAAqC,cAAcF,EAAUjE,M,CA7ClHU,SAAAC,EAAAA,EAAAA,KA6CwH,IAAiB,EA7CzIO,EAAAA,EAAAA,KAAAC,EAAAA,EAAAA,IA6C0H8C,EAAUjE,KAAG,MA7CvIwB,EAAA,G,qBA8CwCnB,EAAAA,EAAAA,IAA2B,WAAAc,EAAAA,EAAAA,IAApB8C,EAAUG,IAAE,IACnB/D,EAAAA,EAAAA,IAA+B,WAAAc,EAAAA,EAAAA,IAAxB8C,EAAUI,QAAM,IACvBhE,EAAAA,EAAAA,IAAgC,WAAAc,EAAAA,EAAAA,IAAzB8C,EAAUK,SAAO,IACxBjE,EAAAA,EAAAA,IAAmC,WAAAc,EAAAA,EAAAA,IAA5B8C,EAAUM,YAAU,IAC3BlE,EAAAA,EAAAA,IAA6B,WAAAc,EAAAA,EAAAA,IAAtB8C,EAAUO,MAAI,Q,QAG7BC,SArDhCjD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,G,8DA0EA,GACIkD,KAAK,aACLC,WAAW,CAEX,EACAC,IAAAA,GACI,MAAO,CACHC,WAAW,KACXC,aAAa,GACbC,uBAAuB,GACvBf,OAAO,KACPpB,GAAG,EACHvB,IAAI,GACJ2D,IAAI,GACJC,QAAQ,CACJvF,MAAM,GACNM,IAAI,GACJkF,OAAO,GACPC,QAAQ,GACRC,KAAK,GACLC,OAAO,GACPC,MAAM,IAEVhE,OAAO,CACHC,QAAQ,KACRF,IAAI,EACJkE,KAAK,EACLC,GAAG,KACHC,GAAG,MAEP/C,QAAQ,CACJC,UAAU,EACVK,QAAQ,EACRG,KAAK,EACLG,SAAS,GAGrB,EACAoC,YAAAA,GACiC,MAA1BC,KAAKC,SAAS3F,IAAI,QACjB0F,KAAKE,QAAQC,KAAK,IAE1B,EACAC,OAAAA,GACIJ,KAAKd,WAAa,IAAImB,EAAAA,EACtBL,KAAKM,aAAe,IAAIzG,EAAAA,CAC5B,EACA0G,OAAAA,GACIP,KAAKX,IAAMW,KAAKQ,OAAOjG,OAAO8E,IAC9BW,KAAKrE,OAAOC,QAAUoE,KAAKX,IAAIoB,UAAU,EAAE,GAC3CT,KAAKrE,OAAOD,IAAMsE,KAAKX,IAAIoB,UAAU,EAAE,GACvCT,KAAKrE,OAAOiE,KAAOI,KAAKX,IAAIoB,UAAU,GACtCT,KAAKU,SACLV,KAAKW,WACLX,KAAKY,2BACT,EACAC,QAAQ,CACJF,QAAAA,GAEiC,MAA1BX,KAAKC,SAAS3F,IAAI,SACjB0F,KAAKV,QAAQvF,MAAMiG,KAAKC,SAAS3F,IAAI,SACrC0F,KAAKV,QAAQjF,IAAI2F,KAAKC,SAAS3F,IAAI,OACnC0F,KAAKV,QAAQC,OAAOS,KAAKC,SAAS3F,IAAI,UACtC0F,KAAKV,QAAQE,QAAQQ,KAAKC,SAAS3F,IAAI,WACvC0F,KAAKV,QAAQG,KAAKO,KAAKC,SAAS3F,IAAI,QACpC0F,KAAKV,QAAQI,OAASM,KAAKC,SAAS3F,IAAI,UACpD0F,KAAKV,QAAQK,MAAQK,KAAKC,SAAS3F,IAAI,SAC3B0F,KAAKV,QAAQwB,KAAOd,KAAKC,SAAS3F,IAAI,QACtC0F,KAAKM,aAAaxG,eAAekG,KAAKV,QAAQvF,OAGtD,EACA2G,MAAAA,GACwB,GAAjBV,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,SACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,WACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,SACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,SACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,QACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,SACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,SACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,UACZ,GAAjBsE,KAAKrE,OAAOD,MAAQsE,KAAKtE,IAAI,cACZ,IAAjBsE,KAAKrE,OAAOD,MAASsE,KAAKtE,IAAI,WACb,IAAjBsE,KAAKrE,OAAOD,MAASsE,KAAKtE,IAAI,aACb,IAAjBsE,KAAKrE,OAAOD,MAASsE,KAAKtE,IAAI,YACrC,EACA,+BAAMkF,SACIZ,KAAKM,aAAa7F,mBAAmBsG,MAAKC,IAC5ChB,KAAKZ,uBAAyB4B,EAAS/B,KACvCe,KAAKiB,WAAW,GAExB,EACAzC,aAAAA,CAAcnE,GACV6G,OAAOC,KAAKnB,KAAKE,QAAQkB,QAAQ,CAC7BrC,KAAM,cACNxE,OAAO,CACH8E,IAAIhF,EAAI,IAAI2F,KAAKrE,OAAOC,QAAQ,IAAIoE,KAAKrE,OAAOD,IAAI,IAAIsE,KAAKrE,OAAOkE,GAAG,IAAIG,KAAKrE,OAAOmE,MAE5FuB,KAAK,SAEZ,EACA,eAAMJ,SACKjB,KAAKd,WAAW+B,UAAUjB,KAAKrE,QAAQoF,MAAMC,IAChDhB,KAAKsB,YAAcN,EAAS/B,IAAI,IAEpC,IAAIsC,EAAM,EACVvB,KAAK3B,OAAO,GACZ2B,KAAKsB,YAAYE,SAAQnH,IACrB2F,KAAKZ,uBAAuBoC,SAAQlD,IAChC,IAAImD,EAAO,CACP7G,GAAG,EACHP,IAAI,EACJoE,GAAG,GACHC,OAAO,GACPC,QAAQ,EACRC,WAAW,EACXC,KAAK,GAET,OAAGP,EAAUjE,KAAOA,EAAIA,MACpBoH,EAAO7G,GAAG2G,EACVE,EAAOpH,IAAIiE,EAAUjE,IACrBoH,EAAOhD,GAAGH,EAAUG,GACpBgD,EAAO/C,OAAOJ,EAAUI,OAAO,IAAIJ,EAAUoD,QAAQ,IAAIpD,EAAUqD,QACnEF,EAAO9C,QAAQtE,EAAIsE,QACnB8C,EAAO7C,WAAWvE,EAAIuE,WACtB6C,EAAO5C,KAAMxE,EAAIwE,KACD,GAAbxE,EAAIsE,UACHqB,KAAKjD,QAAQC,UAAUgD,KAAKjD,QAAQC,UAAU,GAE9C3C,EAAIsE,SAAS,GAAKtE,EAAIsE,SAAS,KAC/BqB,KAAKjD,QAAQM,QAAQ2C,KAAKjD,QAAQM,QAAQ,GAE1ChD,EAAIsE,SAAS,IAAMtE,EAAIsE,SAAS,KAChCqB,KAAKjD,QAAQS,KAAKwC,KAAKjD,QAAQS,KAAK,GAErCnD,EAAIsE,SAAS,KACZqB,KAAKjD,QAAQY,SAASqC,KAAKjD,QAAQY,SAAS,GAEhD4D,GAAY,EACZvB,KAAK3B,OAAO8B,KAAKsB,IACV,EAEA,IAEfzB,KAAK/C,GAAG+C,KAAK/C,GAAG,CAAC,GAEzB,EACAb,SAAAA,GACI,IAAIwF,EAAM,IAAIC,MAEd,MAAMC,EAAM,IAAIC,EAAAA,WAAM,IAAI,KAAK,UAG/BH,EAAII,IAAK,gEACTF,EAAIG,SAASL,EAAI,OAAS,GAAQ,GAAG,GAAG,IAExCA,EAAII,IAAK,8DACTF,EAAIG,SAASL,EAAI,OAAS,IAAI,IAAM,GAAG,GAAG,IAE1CA,EAAII,IAAK,8DACTF,EAAIG,SAASL,EAAI,OAAS,KAAS,GAAG,EAAE,IAExCE,EAAII,YAAY,IAChBJ,EAAIK,aAAQC,EAAW,QACvBN,EAAIO,KAAK,kCAAmC,MAAO,GAAG,CAACC,MAAM,WAC7DR,EAAII,YAAY,IAChBJ,EAAIK,aAAQC,EAAW,UACvBN,EAAIO,KAAK,qDAAsD,MAAO,GAAG,CAACC,MAAM,WAChFR,EAAII,YAAY,GAChBJ,EAAIO,KAAK,uEAAwE,MAAO,GAAG,CAACC,MAAM,WAElGR,EAAII,YAAY,IAChBJ,EAAIO,KAAK,iCAAiCrC,KAAKtE,IAAI,QAAUsE,KAAKrE,OAAOC,QAAS,MAAO,GAAG,CAAC0G,MAAM,WACnGR,EAAII,YAAY,IAChB,IAAIK,EAAO,GACXT,EAAIO,KAAK,mCAAoC,MAAOE,EAAO,GAAG,CAACD,MAAM,WACrER,EAAIO,KAAK,0BAA2B,MAAOE,EAAO,GAAG,CAACD,MAAM,WAE5DR,EAAIO,KAAK,UAAW,IAAKE,EAAO,GAAG,CAACD,MAAM,WAC1CR,EAAIO,KAAK,qBAAsB,IAAKE,EAAO,GAAG,CAACD,MAAM,WAErDC,GAAgB,GAEhBT,EAAIO,KAAK,6BAA8B,MAAOE,EAAO,CAACD,MAAM,WAC5DC,GAAgB,EAEhBC,IAAUV,EAAK,CACXW,OAAOF,EACPG,OAAQ,CAACC,KAAK,IACdC,OAAO,CAACC,SAAS,GACjBC,KAAK,mBACLC,SAAU,aAEdR,EAAST,EAAIkB,cAAcT,OAC3BT,EAAII,YAAY,IAChBM,IAAUV,EAAK,CACXW,OAAOF,EAAO,GACdG,OAAQ,CAACC,KAAK,IACdC,OAAO,CAACC,SAAS,GACjBC,KAAK,eACLC,SAAU,aAEdjB,EAAImB,KAAKjD,KAAKtE,IAAIsE,KAAKrE,OAAOC,QAAQ,aAC1C,I,UChRR,MAAMsH,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://egovf/./src/modules/egovf/services/egovfService.js","webpack://egovf/./src/modules/egovf-scc/views/RecordView.vue","webpack://egovf/./src/modules/egovf-scc/views/RecordView.vue?39a5"],"sourcesContent":["import axios from \"axios\";\r\nimport { API_URL_EGOVF_USER } from \"@env\";\r\nconst egovfUrl = API_URL_EGOVF_USER;\r\n\r\nexport default class EgovfService {\r\n  headersUsuario(token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\r\n  }\r\n\r\n  getEgovf(cif) {\r\n    return axios.get(egovfUrl + \"ciudadano/getEgovf\", {\r\n      params: {\r\n        cif: cif,\r\n      },\r\n    });\r\n  }\r\n  getListaCiudadano() {\r\n    return axios.get(egovfUrl + \"ciudadano/getListaCiudadano\");\r\n  }\r\n  getListaEmpleado() {\r\n    //Servicio que retorna una lista de Ciudadanos que son empleados\r\n    return axios.get(egovfUrl + \"ciudadano/getListaEmpleado\");\r\n  }\r\n}\r\n","<template>\r\n    <CRow>\r\n        <CCol :xs=\"12\">\r\n            <CCard>\r\n                <CCardHeader class=\"headercolor\">\r\n                    <CRow>\r\n                        <CCol :lg=\"8\" class=\"text-center\">Ranking De Asistencias mes de {{ mes }} del {{ record.gestion }}</CCol>\r\n                        <CCol :lg=\"4\" class=\"text-end\">\r\n                            <CButton color=\"success\" class=\"font\" @click=\"pdfRecord()\" size=\"sm\"><CIcon icon=\"cil-cloud-download\" class=\"me-2\"/>Descargar PDF</CButton>\r\n                        </CCol>\r\n                    </CRow>\r\n                </CCardHeader>\r\n                <CCardBody>\r\n                    <CRow>\r\n                        <h2 class=\"text-center\">Estadisticas de Asistencia</h2>\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table table-striped table-hover\" id=\"printAsistencia\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>#</th><th>Detalle</th><th>Cantidad</th><th>%</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr><td>1</td><td>Excelente</td><td>{{ stadist.excelente }}</td><td>{{ (stadist.excelente/ln * 100).toFixed(2) }}%</td></tr>\r\n                                    <tr><td>2</td><td>Regular</td><td>{{ stadist.regular }}</td><td>{{ (stadist.regular/ln * 100).toFixed(2) }}%</td></tr>\r\n                                    <tr><td>3</td><td>En Linea Roja</td><td>{{ stadist.roja }}</td><td>{{ (stadist.roja/ln * 100).toFixed(2) }}%</td></tr>\r\n                                    <tr><td>4</td><td>Llamada de Atencion</td><td>{{ stadist.atencion }}</td><td>{{ (stadist.atencion/ln * 100).toFixed(2) }}%</td></tr>\r\n                                    <tr></tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </CRow>\r\n                    <CRow>\r\n                        <h2 class=\"text-center\">Ranking de Asistencias</h2>\r\n                        <hr>\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table table-striped table-hover\" id=\"printRecord\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>#</th><th>CIF</th><th>C.I.</th><th>Nombres y Apellidos</th><th>Min. R</th><th>Min. S.A.</th><th>Total dias de Descuento</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr v-for=\"ciudadano in listaR\" :key=\"ciudadano.id\">\r\n                                        <td>{{ciudadano.id}}</td>\r\n                                        <td><CButton color=\"success\" class=\"font\" @click=\"getReporteMes(ciudadano.cif)\">{{ciudadano.cif}}</CButton></td>\r\n                                        <td>{{ ciudadano.ci }}</td>\r\n                                        <td>{{ ciudadano.nombre }}</td>\r\n                                        <td>{{ ciudadano.retraso }}</td>\r\n                                        <td>{{ ciudadano.antisipado }}</td>\r\n                                        <td>{{ ciudadano.pena }}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                                <tfoot>\r\n                                    <tr>\r\n                                        <th></th><th></th><th></th><th></th><th></th><th></th><th></th>\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                    </CRow>\r\n                </CCardBody>\r\n            </CCard>\r\n        </CCol>\r\n    </CRow>\r\n</template>\r\n\r\n<script>\r\n\r\nimport SccService from '@/modules/egovf-scc/services/sccService';\r\nimport EgovfService from '@/modules/egovf/services/egovfService';\r\n\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nexport default {\r\n    name:'RecordView',\r\n    components:{\r\n\r\n    },\r\n    data(){\r\n        return {\r\n            sccService:null,\r\n            listaPersona:[],\r\n            listaCiudadanoEmpleado:[],\r\n            listaR:null,\r\n            ln:0,\r\n            mes:'',\r\n            uri:'',\r\n            usuario:{\r\n                token:'',\r\n                cif:'',\r\n                correo:'',\r\n                celular:'',\r\n                pass:'',\r\n                unidad:'',\r\n                sigla:''\r\n            },\r\n            record:{\r\n                gestion:2023,\r\n                mes:0,\r\n                tipo:0,\r\n                di:'00',\r\n                df:'00'\r\n            },\r\n            stadist:{\r\n                excelente:0,\r\n                regular:0,\r\n                roja:0,\r\n                atencion:0\r\n            }\r\n        }\r\n    },\r\n    beforeCreate(){        \r\n        if(this.$cookies.get('cif')==null){\r\n            this.$router.push('/');\r\n        }\r\n    },\r\n    created(){\r\n        this.sccService = new SccService();\r\n        this.egovfService = new EgovfService();\r\n    },\r\n    mounted(){\r\n        this.uri = this.$route.params.uri;\r\n        this.record.gestion = this.uri.substring(0,4);\r\n        this.record.mes = this.uri.substring(5,7);\r\n        this.record.tipo = this.uri.substring(8);\r\n        this.getMes();\r\n        this.getDatos();\r\n        this.getListaCiudadanoEmpleado();\r\n    },\r\n    methods:{\r\n        getDatos(){\r\n            //cargamos datos del Usuario\r\n            if(this.$cookies.get('cif')!=null){\r\n                this.usuario.token=this.$cookies.get('token');\r\n                this.usuario.cif=this.$cookies.get('cif');\r\n                this.usuario.correo=this.$cookies.get('correo');\r\n                this.usuario.celular=this.$cookies.get('celular');\r\n                this.usuario.pass=this.$cookies.get('pass');\r\n                this.usuario.unidad = this.$cookies.get('unidad');\r\n\t\t\t\tthis.usuario.sigla = this.$cookies.get('sigla');\r\n                this.usuario.foto = this.$cookies.get('foto');\r\n                this.egovfService.headersUsuario(this.usuario.token);\r\n                \r\n            }\r\n        },\r\n        getMes(){\r\n            if(this.record.mes==1){this.mes='Enero';}\r\n            if(this.record.mes==2){this.mes='Febrero';}\r\n            if(this.record.mes==3){this.mes='Marzo';}\r\n            if(this.record.mes==4){this.mes='Abril';}\r\n            if(this.record.mes==5){this.mes='Mayo';}\r\n            if(this.record.mes==6){this.mes='Junio';}\r\n            if(this.record.mes==7){this.mes='Julio';}\r\n            if(this.record.mes==8){this.mes='Agosto';}\r\n            if(this.record.mes==9){this.mes='Septiembre';}\r\n            if(this.record.mes==10){this.mes='Octubre';}\r\n            if(this.record.mes==11){this.mes='Noviembre';}\r\n            if(this.record.mes==12){this.mes='Diciembre';}\r\n        },\r\n        async getListaCiudadanoEmpleado(){ // Funcion que regresa una lista de Ciudadanos que son Empleados del ModuloEgovf\r\n            await this.egovfService.getListaEmpleado().then(response => {\r\n                this.listaCiudadanoEmpleado = response.data;\r\n                this.getRecord();\r\n            });\r\n        },\r\n        getReporteMes(cif){\r\n            window.open(this.$router.resolve({\r\n                name: \"ReporteView\",\r\n                params:{\r\n                    uri:cif+'j'+this.record.gestion+'m'+this.record.mes+'m'+this.record.di+'k'+this.record.df\r\n                }\r\n            }).href,'_blank');\r\n            //window.open(routerData.href,'_blank');\r\n        },\r\n        async getRecord(){\r\n            await  this.sccService.getRecord(this.record).then((response)=>{\r\n                this.listaRecord = response.data;\r\n            });\r\n            var auxid=1;\r\n            this.listaR=[];\r\n            this.listaRecord.forEach(cif => {\r\n                this.listaCiudadanoEmpleado.forEach(ciudadano => {\r\n                    var report={\r\n                        id:0,\r\n                        cif:0,\r\n                        ci:'',\r\n                        nombre:'',\r\n                        retraso:0,\r\n                        antisipado:0,\r\n                        pena:0\r\n                    };\r\n                    if(ciudadano.cif == cif.cif){\r\n                        report.id=auxid;\r\n                        report.cif=ciudadano.cif;\r\n                        report.ci=ciudadano.ci;\r\n                        report.nombre=ciudadano.nombre+' '+ciudadano.paterno+' '+ciudadano.materno;\r\n                        report.retraso=cif.retraso;\r\n                        report.antisipado=cif.antisipado;\r\n                        report.pena= cif.pena;\r\n                        if(cif.retraso==0){\r\n                            this.stadist.excelente=this.stadist.excelente+1;\r\n                        }\r\n                        if( cif.retraso>=1 && cif.retraso<=25){\r\n                            this.stadist.regular=this.stadist.regular+1;\r\n                        }\r\n                        if (cif.retraso>=26 && cif.retraso<=59){\r\n                            this.stadist.roja=this.stadist.roja+1;\r\n                        }\r\n                        if(cif.retraso>=60){\r\n                            this.stadist.atencion=this.stadist.atencion+1;\r\n                        }\r\n                        auxid=auxid+1;\r\n                        this.listaR.push(report);\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n                this.ln=this.ln+1;\r\n            });\r\n        },\r\n        pdfRecord(){\r\n            var img = new Image();\r\n            \r\n            const doc = new jsPDF('p','mm','letter');\r\n            //const doc = new jsPDF('p','mm','legal');\r\n\r\n            img.src ='https://fhcevirtual.umsa.bo/egovf-img/imagenes/logoticjpg.jpg';\r\n            doc.addImage(img,'JPEG', (215/5), 14,15,10);\r\n\r\n            img.src ='https://fhcevirtual.umsa.bo/egovf-img/imagenes/logofhce.jpg';\r\n            doc.addImage(img,'JPEG', (215/7.8), 14,15,10);\r\n            \r\n            img.src ='https://fhcevirtual.umsa.bo/egovf-img/imagenes/logoumsa.jpg';\r\n            doc.addImage(img,'JPEG', (215/10), 12,6,12);\r\n\r\n            doc.setFontSize(12);\r\n            doc.setFont(undefined, 'bold');\r\n            doc.text(\"Universidad Mayor de San Andrés\",(215/2),18,{align:\"center\"});\r\n            doc.setFontSize(10);\r\n            doc.setFont(undefined, 'normal');\r\n            doc.text(\"Facultad de Humanidades y Ciencias de la Educación\",(215/2),23,{align:\"center\"});\r\n            doc.setFontSize(8);\r\n            doc.text(\"Unidad de Tecnologías de la Información y la Comunicación  UMSA-FHCE\",(215/2),28,{align:\"center\"});\r\n\r\n            doc.setFontSize(12);\r\n            doc.text(\"Ranking de Asistencias Mes de \"+this.mes+\" del \" + this.record.gestion,(215/2),45,{align:\"center\"});\r\n            doc.setFontSize(10);\r\n            var finalY=50;\r\n            doc.text(\"Lic. Jaime A. Montecinos Marquez\",(215/4),finalY+25,{align:\"center\"});\r\n            doc.text(\"Responsable Unidad TIC.\",(215/4),finalY+30,{align:\"center\"});\r\n\r\n            doc.text(\"Vo. Bo.\",(162),finalY+25,{align:\"center\"});\r\n            doc.text(\"Inmediato Superior\",(162),finalY+30,{align:\"center\"});\r\n            \r\n            finalY = finalY+45;\r\n\r\n            doc.text(\"Estadisticas de Asistencia\",(215/2),finalY,{align:\"center\"});\r\n            finalY = finalY+5;\r\n\r\n            autoTable(doc, {\r\n                startY:finalY,\r\n                margin: {left:20 },\r\n                styles:{fontSize:8},\r\n                html:'#printAsistencia',\r\n                showFoot: 'lastPage'\r\n            });\r\n            finalY = doc.lastAutoTable.finalY;\r\n            doc.setFontSize(15);\r\n            autoTable(doc, {\r\n                startY:finalY+15,\r\n                margin: {left:20 },\r\n                styles:{fontSize:8},\r\n                html:'#printRecord',\r\n                showFoot: 'lastPage'\r\n            });\r\n            doc.save(this.mes+this.record.gestion+'record.pdf');\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./RecordView.vue?vue&type=template&id=7d792245\"\nimport script from \"./RecordView.vue?vue&type=script&lang=js\"\nexport * from \"./RecordView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["egovfUrl","API_URL_EGOVF_USER","EgovfService","headersUsuario","token","axios","defaults","headers","common","getEgovf","cif","get","params","getListaCiudadano","getListaEmpleado","_createElementVNode","class","id","_createBlock","_component_CRow","default","_withCtx","_createVNode","_component_CCol","xs","_component_CCard","_component_CCardHeader","lg","_createTextVNode","_toDisplayString","$data","mes","record","gestion","_","_component_CButton","color","onClick","_cache","$event","$options","pdfRecord","size","_component_CIcon","icon","_component_CCardBody","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","stadist","excelente","ln","toFixed","_hoisted_7","_hoisted_8","regular","_hoisted_9","_hoisted_10","roja","_hoisted_11","_hoisted_12","atencion","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_createElementBlock","_Fragment","_renderList","listaR","ciudadano","key","getReporteMes","ci","nombre","retraso","antisipado","pena","_hoisted_19","name","components","data","sccService","listaPersona","listaCiudadanoEmpleado","uri","usuario","correo","celular","pass","unidad","sigla","tipo","di","df","beforeCreate","this","$cookies","$router","push","created","SccService","egovfService","mounted","$route","substring","getMes","getDatos","getListaCiudadanoEmpleado","methods","foto","then","response","getRecord","window","open","resolve","href","listaRecord","auxid","forEach","report","paterno","materno","img","Image","doc","jsPDF","src","addImage","setFontSize","setFont","undefined","text","align","finalY","autoTable","startY","margin","left","styles","fontSize","html","showFoot","lastAutoTable","save","__exports__","render"],"sourceRoot":""}