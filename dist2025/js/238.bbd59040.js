"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[238],{7590:function(e,s,t){t.d(s,{A:function(){return l}});var o=t(4373),i=t(1660);const a=i.fw;class l{getPerfil(e){return o.A.get(a+"biometrico/getPerfil",{params:{cif:e}})}getListarCifCero(){return o.A.get(a+"biometrico/listarCifCero")}getHorario(e,s){return o.A.get(a+"horario/getHorario",{params:{gestion:e,cif:s}})}updateBiometrico(e){return o.A.put(a+"biometrico/updateBiometrico",e)}getAvisoAll(){return o.A.get(a+"aviso/getAvisoAll")}getAviso(){return o.A.get(a+"aviso/getAviso")}getObsUsuario(e,s,t){return o.A.get(a+"obs/getObsUsuario",{params:{cif:e,gestion:s,mes:t}})}addObsEmpleado(e){const s={cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:0,tipoId:0};return o.A.post(a+"obs/addObs",s)}updateObsEmpleado(e){const s={id:e.id,cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:e.estado,tipoId:0};return o.A.put(a+"obs/updateObs",s)}getListaHorario(e,s){return o.A.get(a+"horario/getListaHorario",{params:{cif:e,gestion:s}})}getReporteMes(e){return o.A.get(a+"marcado/reporteMes",{params:{cif:e.cif,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df}})}getReporteMesDia(e){return o.A.get(a+"marcado/reporteMesDia",{params:{cif:e.cif,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df}})}addHorario(e){const s={cif:e.cif,fecha:e.fecha,salida:e.salida,tipo:e.tipo,lem:e.lem,lsm:e.lsm,let:e.let,lst:e.lst,mem:e.mem,msm:e.msm,met:e.met,mst:e.mst,miem:e.miem,mism:e.mism,miet:e.miet,mist:e.mist,jem:e.jem,jsm:e.jsm,jet:e.jet,jst:e.jst,vem:e.vem,vsm:e.vsm,vet:e.vet,vst:e.vst,sem:e.sem,ssm:e.ssm,set:e.set,sst:e.sst,dem:e.dem,dsm:e.dsm,det:e.det,dst:e.dst};return o.A.post(a+"horario/addHorario",s)}addObs(e){const s={cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:1,tipoId:0};return o.A.post(a+"obs/addObs",s)}updateObs(e){const s={id:e.id,cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df,detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.h,m:e.m,url:e.url,estado:e.estado,tipoId:e.tipoId};return o.A.put(a+"obs/updateObs",s)}getListaObs(e){return o.A.get(a+"obs/getListaObs",{params:{gestion:e}})}addObsAll(e){const s={id:0,cif:e.cif,sexo:e.sexo,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:1};return o.A.post(a+"obs/addObsAll",s)}addAviso(e){const s={titulo:e.titulo,detalle:e.detalle,icon:e.icon,estado:1};return o.A.post(a+"aviso/addAviso",s)}updateAviso(e){const s={id:e.id,titulo:e.titulo,detalle:e.detalle,icon:e.icon,estado:e.estado};return o.A.put(a+"aviso/updateAviso",s)}getRecord(e){return o.A.get(a+"marcado/reporteTotal",{params:{gestion:e.gestion,mes:e.mes,tipo:e.tipo}})}getListarBiometrico(){return o.A.get(a+"biometrico/listarBiometrico")}getLBiometricoTipo(e){return o.A.get(a+"biometrico/listarBiometricoTipo",{params:{tipo:e}})}updateBiometricoTipo(e,s){var t=0;1==s&&(t=e.tipoempleado_id);const i={id:0,_01user_id:0,_02nombre:"",_03cif:e.cif,_04estado:0,_05horario_id:0,_06lugar:"",_07id_tipo:t,_08detalle:"",_09sexo:0};return o.A.put(a+"biometrico/updateBiometricoTipo",i)}getObs(e,s,t){return o.A.get(a+"obs/getObs",{params:{cif:e,gestion:s,mes:t}})}estadoBiometrico(e){return console.log(e),o.A.put(a+"biometrico/estadoBiometrico",e)}updateTipo(e,s){return o.A.put(a+"biometrico/updateTipo",{params:{cif:e,tipo:s}})}getListaEquipo(){return o.A.get(a+"equipo/listar")}addEquipo(e){return o.A.post(a+"equipo/addEquipo",e)}updateEquipo(e){return o.A.put(a+"equipo/updateEquipo",e)}}},7160:function(e,s,t){t.d(s,{A:function(){return l}});var o=t(4373),i=t(1660);const a=i.H4;class l{getListarCifCero(){return o.A.get("biometrico/listarCifCero")}addImagen(e){return o.A.post(a+"upload.php",e)}getUrl(){return a+"imagenes/"}getImage(e){return o.A.get(e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}})}}},857:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var o=t(6768),i=t(5130),a=t(4232);const l=e=>((0,o.Qi)("data-v-f8a08148"),e=e(),(0,o.jt)(),e),r=l((()=>(0,o.Lk)("br",null,null,-1))),c=l((()=>(0,o.Lk)("br",null,null,-1))),n=l((()=>(0,o.Lk)("br",null,null,-1))),u=l((()=>(0,o.Lk)("br",null,null,-1))),d=l((()=>(0,o.Lk)("br",null,null,-1))),m=l((()=>(0,o.Lk)("h5",null,"Reporte Mensual",-1))),f={class:"mb-3 row"},b=l((()=>(0,o.Lk)("label",{for:"gestion",class:"col-6 col-form-label"},"Gestion :",-1))),g={class:"col-6"},p=["value"],h=l((()=>(0,o.Lk)("br",null,null,-1))),k={class:"mb-3 row"},v=l((()=>(0,o.Lk)("label",{for:"mes",class:"col-6 col-form-label"},"Mes :",-1))),M={class:"col-6"},C=["value"],F={class:"btn btn-success font"},A=l((()=>(0,o.Lk)("h5",null,"Reporte Mensual Segmentado",-1))),_={class:"mb-3 row"},L=l((()=>(0,o.Lk)("label",{for:"gestion",class:"col-6 col-form-label"},"Gestion :",-1))),w={class:"col-6"},x=["value"],O=l((()=>(0,o.Lk)("br",null,null,-1))),I={class:"mb-3 row"},D=l((()=>(0,o.Lk)("label",{for:"mes",class:"col-6 col-form-label"},"Mes :",-1))),E={class:"col-6"},$=["value"],B=l((()=>(0,o.Lk)("br",null,null,-1))),S={class:"mb-3 row"},R=l((()=>(0,o.Lk)("label",{for:"inicio",class:"col-6 col-form-label"},"Inicio :",-1))),q={class:"col-6"},y=["value"],W=l((()=>(0,o.Lk)("br",null,null,-1))),H={class:"mb-3 row"},T=l((()=>(0,o.Lk)("label",{for:"fin",class:"col-6 col-form-label"},"Fin :",-1))),X={class:"col-6"},j=["value"],U={class:"btn btn-success font"};function V(e,s,t,l,V,G){const K=(0,o.g2)("CCardHeader"),P=(0,o.g2)("CIcon"),N=(0,o.g2)("CCardBody"),J=(0,o.g2)("CButton"),z=(0,o.g2)("CCardFooter"),Q=(0,o.g2)("CCard"),Y=(0,o.g2)("CCol"),Z=(0,o.g2)("CRow"),ee=(0,o.g2)("CModalTitle"),se=(0,o.g2)("CModalHeader"),te=(0,o.g2)("CModalBody"),oe=(0,o.g2)("CModalFooter"),ie=(0,o.g2)("CModal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Z,null,{default:(0,o.k6)((()=>[(0,o.bF)(Y,{lg:3},{default:(0,o.k6)((()=>[r,(0,o.bF)(Q,null,{default:(0,o.k6)((()=>[(0,o.bF)(K,{class:"headercolor text-center"},{default:(0,o.k6)((()=>[(0,o.eW)("Observaciones")])),_:1}),(0,o.bF)(N,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{customClassName:"nav-icon",icon:"cil-featured-playlist",class:"menuicon"})])),_:1}),(0,o.bF)(z,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(J,{color:"success",class:"font",onClick:s[0]||(s[0]=e=>G.getOpciones(V.direcciones[0]))},{default:(0,o.k6)((()=>[(0,o.eW)("Ingresar")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(Y,{lg:3},{default:(0,o.k6)((()=>[c,(0,o.bF)(Q,null,{default:(0,o.k6)((()=>[(0,o.bF)(K,{class:"headercolor text-center"},{default:(0,o.k6)((()=>[(0,o.eW)("Reporte Mensual")])),_:1}),(0,o.bF)(N,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{customClassName:"nav-icon",icon:"cil-clipboard",class:"menuicon"})])),_:1}),(0,o.bF)(z,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(J,{color:"success",class:"font",onClick:s[1]||(s[1]=e=>G.clickModalMes(!0))},{default:(0,o.k6)((()=>[(0,o.eW)("Ingresar")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(Y,{lg:3},{default:(0,o.k6)((()=>[n,(0,o.bF)(Q,null,{default:(0,o.k6)((()=>[(0,o.bF)(K,{class:"headercolor text-center"},{default:(0,o.k6)((()=>[(0,o.eW)("R. Segmentado")])),_:1}),(0,o.bF)(N,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{customClassName:"nav-icon",icon:"cil-clipboard",class:"menuicon"})])),_:1}),(0,o.bF)(z,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(J,{color:"success",class:"font",onClick:s[2]||(s[2]=e=>G.clickModalDias(!0))},{default:(0,o.k6)((()=>[(0,o.eW)("Ingresar")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(Y,{lg:3},{default:(0,o.k6)((()=>[u,(0,o.bF)(Q,null,{default:(0,o.k6)((()=>[(0,o.bF)(K,{class:"headercolor text-center"},{default:(0,o.k6)((()=>[(0,o.eW)("Biometricos")])),_:1}),(0,o.bF)(N,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{customClassName:"nav-icon",icon:"cil-monitor",class:"menuicon"})])),_:1}),(0,o.bF)(z,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(J,{color:"success",class:"font",onClick:s[3]||(s[3]=e=>G.getOpciones(V.direcciones[1]))},{default:(0,o.k6)((()=>[(0,o.eW)("Ingresar")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(Y,{lg:3},{default:(0,o.k6)((()=>[d,(0,o.bF)(Q,null,{default:(0,o.k6)((()=>[(0,o.bF)(K,{class:"headercolor text-center"},{default:(0,o.k6)((()=>[(0,o.eW)("Horarios")])),_:1}),(0,o.bF)(N,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{customClassName:"nav-icon",icon:"cil-calendar",class:"menuicon"})])),_:1}),(0,o.bF)(z,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(J,{color:"success",class:"font",onClick:s[4]||(s[4]=e=>G.getOpciones(V.direcciones[2]))},{default:(0,o.k6)((()=>[(0,o.eW)("Ingresar")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(ie,{visible:V.modalMes,onClose:s[10]||(s[10]=e=>G.clickModalMes(!1))},{default:(0,o.k6)((()=>[(0,o.Lk)("form",{onSubmit:s[9]||(s[9]=(0,i.D$)((e=>G.getReporteMes()),["prevent"]))},[(0,o.bF)(se,{class:"headercolor",dismiss:"",onClose:s[5]||(s[5]=e=>G.clickModalMes(!1))},{default:(0,o.k6)((()=>[(0,o.bF)(ee,null,{default:(0,o.k6)((()=>[m])),_:1})])),_:1}),(0,o.bF)(te,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",f,[b,(0,o.Lk)("div",g,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>V.reporteMes.gestion=e),class:"form-control",required:"true"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(V.listaGestion,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,a.v_)(e),9,p)))),128))],512),[[i.u1,V.reporteMes.gestion]])])]),h,(0,o.Lk)("div",k,[v,(0,o.Lk)("div",M,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s[7]||(s[7]=e=>V.reporteMes.mes=e),class:"form-control",required:"true"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(V.listaMes,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e.m},(0,a.v_)(e.mes),9,C)))),128))],512),[[i.u1,V.reporteMes.mes]])])])])),_:1}),(0,o.bF)(oe,null,{default:(0,o.k6)((()=>[(0,o.bF)(J,{onClick:s[8]||(s[8]=e=>G.clickModalMes(!1)),color:"danger",class:"font"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{icon:"cil-x",class:"me-2"}),(0,o.eW)("Cancelar")])),_:1}),(0,o.Lk)("button",F,[(0,o.bF)(P,{icon:"cil-file",class:"me-2"}),(0,o.eW)("Ver Reporte")])])),_:1})],32)])),_:1},8,["visible"]),(0,o.bF)(ie,{visible:V.modalDias,onClose:s[18]||(s[18]=e=>G.clickModalDias(!1))},{default:(0,o.k6)((()=>[(0,o.Lk)("form",{onSubmit:s[17]||(s[17]=(0,i.D$)((e=>G.getReporteMes()),["prevent"]))},[(0,o.bF)(se,{class:"headercolor",dismiss:"",onClose:s[11]||(s[11]=e=>G.clickModalDias(!1))},{default:(0,o.k6)((()=>[(0,o.bF)(ee,null,{default:(0,o.k6)((()=>[A])),_:1})])),_:1}),(0,o.bF)(te,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",_,[L,(0,o.Lk)("div",w,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>V.reporteMes.gestion=e),class:"form-control",required:"true"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(V.listaGestion,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,a.v_)(e),9,x)))),128))],512),[[i.u1,V.reporteMes.gestion]])])]),O,(0,o.Lk)("div",I,[D,(0,o.Lk)("div",E,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":s[13]||(s[13]=e=>V.reporteMes.mes=e),class:"form-control",required:"true"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(V.listaMes,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e.m},(0,a.v_)(e.mes),9,$)))),128))],512),[[i.u1,V.reporteMes.mes]])])]),B,(0,o.Lk)("div",S,[R,(0,o.Lk)("div",q,[(0,o.bo)((0,o.Lk)("select",{class:"form-control","onUpdate:modelValue":s[14]||(s[14]=e=>V.reporteMes.di=e),required:"true"},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(31,((e=1)=>(0,o.Lk)("option",{key:e,value:e},(0,a.v_)(e),9,y))),64))],512),[[i.u1,V.reporteMes.di]])])]),W,(0,o.Lk)("div",H,[T,(0,o.Lk)("div",X,[(0,o.bo)((0,o.Lk)("select",{class:"form-control","onUpdate:modelValue":s[15]||(s[15]=e=>V.reporteMes.df=e),required:"true"},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(31,((e=1)=>(0,o.Lk)("option",{key:e,value:e},(0,a.v_)(e),9,j))),64))],512),[[i.u1,V.reporteMes.df]])])])])),_:1}),(0,o.bF)(oe,null,{default:(0,o.k6)((()=>[(0,o.bF)(J,{onClick:s[16]||(s[16]=e=>G.clickModalDias(!1)),color:"danger",class:"font"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{icon:"cil-x",class:"me-2"}),(0,o.eW)("Cancelar")])),_:1}),(0,o.Lk)("button",U,[(0,o.bF)(P,{icon:"cil-file",class:"me-2"}),(0,o.eW)("Ver Reporte")])])),_:1})],32)])),_:1},8,["visible"])],64)}t(4114);var G=t(7590),K=t(7160),P={name:"ModuloSccMenuView",components:{},data(){return{titulo:"Modulos MSCC",sccService:null,egovfService:null,empleadoService:null,cifCiudadano:"",modalMes:!1,modalDias:!1,listaGestion:[],listaMes:[{m:"01",mes:"Enero"},{m:"02",mes:"Febrero"},{m:"03",mes:"Marzo"},{m:"04",mes:"Abril"},{m:"05",mes:"Mayo"},{m:"06",mes:"Junio"},{m:"07",mes:"Julio"},{m:"08",mes:"Agosto"},{m:"09",mes:"Septiembre"},{m:"10",mes:"Octubre"},{m:"11",mes:"Noviembre"},{m:"12",mes:"Diciembre"}],usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:"",foto:""},empleado:{id:0,cif:0,empleado:"",tipoempleado_id:0,fecha:"",estado:0,salida:"",contratos:[]},direcciones:["/observaciones","/biometricos","/horarios"],reporteMes:{cif:"",gestion:0,mes:1,di:0,df:0}}},created(){this.sccService=new G.A,this.uploadService=new K.A,this.getAbiso()},mounted(){this.cifCiudadano=this.$cookies.get("cif"),this.getDatos(),this.getGestion()},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"))},getGestion(){var e=[];const s=new Date;this.obsgestion=s.getFullYear();for(var t=2021;t<=this.obsgestion;t++)e.push(t);this.listaGestion=e},async getAbiso(){const e=[];var s=0;await this.sccService.getAviso().then((e=>{this.listaAviso=e.data})),this.listaAviso.forEach((t=>{e.push(s+1),s+=1,t.id}));const t=this.$swal.mixin({progressSteps:e,confirmButtonText:"Siguiente >",showClass:{backdrop:"swal2-noanimation"},hideClass:{backdrop:"swal2-noanimation"}});(async()=>{if(this.listaAviso.length>0){s=0,1;while(s<this.listaAviso.length)await t.fire({title:this.listaAviso[s].titulo,icon:this.listaAviso[s].icon,text:this.listaAviso[s].detalle,currentProgressStep:s}),s+=1}})()},getOpciones(e){this.$router.push(e)},clickModalMes(e){"https://fhcevirtual.umsa.bo/egovf-img/imagenes/user.png"==this.usuario.foto?this.getFotoPerfil():this.modalMes=e},clickModalDias(e){"https://fhcevirtual.umsa.bo/egovf-img/imagenes/user.png"==this.usuario.foto?this.getFotoPerfil():this.modalDias=e},getFotoPerfil(){this.$swal.fire({title:"Para obtener tu Reporte Debes de cambiar tu foto de perfil",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed?this.$router.push("/perfil"):e.isDenied&&location.reload()}))},getReporteMes(){this.clickModalMes(!1),this.clickModalDias(!1),this.reporteMes.cif=this.usuario.cif,this.reporteMes.di<10&&(this.reporteMes.di="0"+this.reporteMes.di),this.reporteMes.df<10&&(this.reporteMes.df="0"+this.reporteMes.df),this.$router.push({name:"UsuarioReporteView",params:{uri:this.reporteMes.cif+"j"+this.reporteMes.gestion+"m"+this.reporteMes.mes+"m"+this.reporteMes.di+"k"+this.reporteMes.df}})}}},N=t(1241);const J=(0,N.A)(P,[["render",V],["__scopeId","data-v-f8a08148"]]);var z=J}}]);
//# sourceMappingURL=238.bbd59040.js.map