"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[400],{1133:function(e,o,i){i.d(o,{A:function(){return l}});var a=i(4373),t=i(1660);const s=t.Qy;class l{getEmpleado(e){return a.A.get(s+"empleado/getEmpleado",{params:{cif:e}})}getListaTipoEmpleado(){return a.A.get(s+"tipo/listar")}getListarEmpleadoModuloCif(e){return a.A.get(s+"modulo/getListarEmpleadoModuloCif",{params:{cif:e}})}getListarEmpleadoModulo(e){return a.A.get(s+"modulo/getListarEmpleadoModulo",{params:{cif:e}})}addContrato(e){const o=new Date;let i=e.numerocontrato;const t={cif:e.cif,numero_contrato:i.toUpperCase(),servicio:e.servicio,unidad:e.unidad,inicio:e.inicio,fin:e.fin,gestion:o.getFullYear(),detalle:e.detalle,idTipoEmpleado:e.idTipoEmpleado};return console.log(t),a.A.post(s+"contrato/addContrato",t)}setContrato(e){let o=e.numerocontrato;const i={id:e.id,cif:e.cif,numero_contrato:o.toUpperCase(),servicio:e.servicio,unidad:e.unidad,inicio:e.inicio,fin:e.fin,gestion:e.gestion,detalle:e.detalle,idTipoEmpleado:e.idTipoEmpleado};return a.A.put(s+"contrato/actualizarContrato",i)}getTipoEmpleado(e){return a.A.get(s+"tipo/getTipoEmpleado",{params:{id:e}})}getListaEmpleado(e){return a.A.get(s+"empleado/getListaEmpleado",{params:{tipo:e}})}getListaModulo(){return a.A.get(s+"modulo/listar")}addEmpleadoModulo(e){const o={_01cif:e.cif,_02id_modulo:e.id_modulo,_03estado:1};return a.A.post(s+"empmodulo/addEmpleadoModulo",o)}updateEstado(e,o){const i=new Date,t={id:e.id,_01cif:e.cif,_02tipo_empleado_id:e.tipoempleado_id,_03fecha:e.fecha,_04estado:o,_05salida:i.toLocaleDateString("en-CA")};return a.A.put(s+"empleado/updateEmpleado",t)}getListaEmpleadoTipo(e){return a.A.get(s+"empleado/listarTipo",{params:{tipo:e}})}}},7590:function(e,o,i){i.d(o,{A:function(){return l}});var a=i(4373),t=i(1660);const s=t.fw;class l{getPerfil(e){return a.A.get(s+"biometrico/getPerfil",{params:{cif:e}})}getListarCifCero(){return a.A.get(s+"biometrico/listarCifCero")}getHorario(e,o){return a.A.get(s+"horario/getHorario",{params:{gestion:e,cif:o}})}updateBiometrico(e){return a.A.put(s+"biometrico/updateBiometrico",e)}getAvisoAll(){return a.A.get(s+"aviso/getAvisoAll")}getAviso(){return a.A.get(s+"aviso/getAviso")}getObsUsuario(e,o,i){return a.A.get(s+"obs/getObsUsuario",{params:{cif:e,gestion:o,mes:i}})}addObsEmpleado(e){const o={cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:0,tipoId:0};return a.A.post(s+"obs/addObs",o)}updateObsEmpleado(e){const o={id:e.id,cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:e.estado,tipoId:0};return a.A.put(s+"obs/updateObs",o)}getListaHorario(e,o){return a.A.get(s+"horario/getListaHorario",{params:{cif:e,gestion:o}})}getReporteMes(e){return a.A.get(s+"marcado/reporteMes",{params:{cif:e.cif,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df}})}getReporteMesDia(e){return a.A.get(s+"marcado/reporteMesDia",{params:{cif:e.cif,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df}})}addHorario(e){const o={cif:e.cif,fecha:e.fecha,salida:e.salida,tipo:e.tipo,lem:e.lem,lsm:e.lsm,let:e.let,lst:e.lst,mem:e.mem,msm:e.msm,met:e.met,mst:e.mst,miem:e.miem,mism:e.mism,miet:e.miet,mist:e.mist,jem:e.jem,jsm:e.jsm,jet:e.jet,jst:e.jst,vem:e.vem,vsm:e.vsm,vet:e.vet,vst:e.vst,sem:e.sem,ssm:e.ssm,set:e.set,sst:e.sst,dem:e.dem,dsm:e.dsm,det:e.det,dst:e.dst};return a.A.post(s+"horario/addHorario",o)}addObs(e){const o={cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:1,tipoId:0};return a.A.post(s+"obs/addObs",o)}updateObs(e){const o={id:e.id,cif:e.cif,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.gestion,mes:e.mes,di:e.di,df:e.df,detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.h,m:e.m,url:e.url,estado:e.estado,tipoId:e.tipoId};return a.A.put(s+"obs/updateObs",o)}getListaObs(e){return a.A.get(s+"obs/getListaObs",{params:{gestion:e}})}addObsAll(e){const o={id:0,cif:e.cif,sexo:e.sexo,uidobs:e.uidobs,fechainicio:e.fechainicio,fechafin:e.fechafin,gestion:e.fechainicio.substring(0,4),mes:e.fechainicio.substring(5,7),di:e.fechainicio.substring(8,10),df:e.fechafin.substring(8,10),detalle:e.detalle,imagen:e.imagen,tipo:e.tipo,hora:e.hora,h:e.hora.substring(0,2),m:e.hora.substring(3,5),url:e.url,estado:1};return a.A.post(s+"obs/addObsAll",o)}addAviso(e){const o={titulo:e.titulo,detalle:e.detalle,icon:e.icon,estado:1};return a.A.post(s+"aviso/addAviso",o)}updateAviso(e){const o={id:e.id,titulo:e.titulo,detalle:e.detalle,icon:e.icon,estado:e.estado};return a.A.put(s+"aviso/updateAviso",o)}getRecord(e){return a.A.get(s+"marcado/reporteTotal",{params:{gestion:e.gestion,mes:e.mes,tipo:e.tipo}})}getListarBiometrico(){return a.A.get(s+"biometrico/listarBiometrico")}getLBiometricoTipo(e){return a.A.get(s+"biometrico/listarBiometricoTipo",{params:{tipo:e}})}updateBiometricoTipo(e,o){var i=0;1==o&&(i=e.tipoempleado_id);const t={id:0,_01user_id:0,_02nombre:"",_03cif:e.cif,_04estado:0,_05horario_id:0,_06lugar:"",_07id_tipo:i,_08detalle:"",_09sexo:0};return a.A.put(s+"biometrico/updateBiometricoTipo",t)}getObs(e,o,i){return a.A.get(s+"obs/getObs",{params:{cif:e,gestion:o,mes:i}})}estadoBiometrico(e){return console.log(e),a.A.put(s+"biometrico/estadoBiometrico",e)}updateTipo(e,o){return a.A.put(s+"biometrico/updateTipo",{params:{cif:e,tipo:o}})}getListaEquipo(){return a.A.get(s+"equipo/listar")}addEquipo(e){return a.A.post(s+"equipo/addEquipo",e)}updateEquipo(e){return a.A.put(s+"equipo/updateEquipo",e)}}},7950:function(e,o,i){i.d(o,{A:function(){return l}});var a=i(4373),t=i(1660);const s=t.j6;class l{headersUsuario(e){a.A.defaults.headers.common["Authorization"]="Bearer "+e}getEgovf(e){return a.A.get(s+"ciudadano/getEgovf",{params:{cif:e}})}getListaCiudadano(){return a.A.get(s+"ciudadano/getListaCiudadano")}getListaEmpleado(){return a.A.get(s+"ciudadano/getListaEmpleado")}}},7160:function(e,o,i){i.d(o,{A:function(){return l}});var a=i(4373),t=i(1660);const s=t.H4;class l{getListarCifCero(){return a.A.get("biometrico/listarCifCero")}addImagen(e){return a.A.post(s+"upload.php",e)}getUrl(){return s+"imagenes/"}getImage(e){return a.A.get(e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}})}}},2400:function(e,o,i){i.r(o),i.d(o,{default:function(){return De}});var a=i(6768),t=i(4232),s=i(5130);const l=e=>((0,a.Qi)("data-v-7bdd0d18"),e=e(),(0,a.jt)(),e),r={class:"d-none d-md-flex me-auto"},d={class:"table-responsive"},n={id:"ciudadanoTabla",class:"table table-striped table-hover"},c=l((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"ID"),(0,a.Lk)("th",null,"Foto"),(0,a.Lk)("th",null,"CIF"),(0,a.Lk)("th",null,"Datos"),(0,a.Lk)("th",null,"Unidad"),(0,a.Lk)("th",null,"Operaciones")])],-1))),u={scope:"row"},m=l((()=>(0,a.Lk)("br",null,null,-1))),p=l((()=>(0,a.Lk)("br",null,null,-1))),f=l((()=>(0,a.Lk)("br",null,null,-1))),b={class:"fontabla"},g=l((()=>(0,a.Lk)("h5",null,"Agregar Observaciones de Asistencia",-1))),h={class:"mb-3 row"},k=l((()=>(0,a.Lk)("label",{for:"sexo",class:"col-sm-4 col-form-label"},"Caracteristica",-1))),v={class:"col-sm-8"},L=l((()=>(0,a.Lk)("option",{value:"0"},"Todos",-1))),A=l((()=>(0,a.Lk)("option",{value:"1"},"Femenino",-1))),C=l((()=>(0,a.Lk)("option",{value:"2"},"Masculino",-1))),_=[L,A,C],E={class:"mb-3 row"},F=l((()=>(0,a.Lk)("label",{for:"datos",class:"col-sm-4 col-form-label"},"UID - OBS",-1))),w={class:"col-sm-8"},O={class:"mb-3 row"},M=l((()=>(0,a.Lk)("label",{for:"datos",class:"col-sm-4 col-form-label"},"Fecha de Inicio",-1))),T={class:"col-sm-8"},S={class:"mb-3 row"},D=l((()=>(0,a.Lk)("label",{for:"datos",class:"col-sm-4 col-form-label"},"Fecha Fin",-1))),x={class:"col-sm-8"},$={class:"mb-3 row"},y=l((()=>(0,a.Lk)("label",{for:"datos",class:"col-sm-4 col-form-label"},"Detalle",-1))),R={class:"col-sm-8"},U={class:"mb-3 row"},B=l((()=>(0,a.Lk)("label",{for:"tipo",class:"col-sm-4 col-form-label"},"Tipo",-1))),I={class:"col-sm-8"},q=l((()=>(0,a.Lk)("option",{value:"Entrada M."},"Entrada Mañana",-1))),j=l((()=>(0,a.Lk)("option",{value:"Salida M."},"Salida Mañana",-1))),H=l((()=>(0,a.Lk)("option",{value:"Entrada T."},"Entrada Tarde",-1))),V=l((()=>(0,a.Lk)("option",{value:"Salida T."},"Salida Tarde",-1))),W=l((()=>(0,a.Lk)("option",{value:"continuo"},"Continuo",-1))),G=l((()=>(0,a.Lk)("option",{value:"horas"},"Horas de Servicio",-1))),z=l((()=>(0,a.Lk)("option",{value:"extraordinario"},"Horario Extraordinario",-1))),P=l((()=>(0,a.Lk)("option",{value:"comision"},"Comisión",-1))),J=l((()=>(0,a.Lk)("option",{value:"permiso"},"Permiso",-1))),X=l((()=>(0,a.Lk)("option",{value:"asueto"},"Asueto",-1))),K=[q,j,H,V,W,G,z,P,J,X],Q={class:"mb-3 row"},Y=l((()=>(0,a.Lk)("label",{for:"datos",class:"col-sm-4 col-form-label"},"Hora",-1))),N={class:"col-sm-8"},Z={class:"mb-3 row"},ee=l((()=>(0,a.Lk)("label",{for:"archivo",class:"col-sm-4 col-form-label"},"Documento",-1))),oe={class:"col-sm-8"},ie=l((()=>(0,a.Lk)("hr",null,null,-1))),ae={class:"mb-3 row text-center"},te={class:"col-sm-12"},se={class:"btn btn-success font"},le=l((()=>(0,a.Lk)("h5",null,"Extraer Record de Asistencias",-1))),re={class:"mb-3 row"},de=l((()=>(0,a.Lk)("label",{for:"gestiones",class:"col-sm-6 col-form-label"},"Gestion",-1))),ne={class:"col-sm-6"},ce=["value"],ue={class:"mb-3 row"},me=l((()=>(0,a.Lk)("label",{for:"datos",class:"col-sm-6 col-form-label"},"Mes",-1))),pe={class:"col-sm-6"},fe=["value"],be=l((()=>(0,a.Lk)("hr",null,null,-1))),ge={class:"mb-3 row text-center"},he={class:"col-sm-12"},ke={class:"btn btn-success font"};function ve(e,o,i,l,L,A){const C=(0,a.g2)("CCol"),q=(0,a.g2)("CIcon"),j=(0,a.g2)("CDropdownToggle"),H=(0,a.g2)("CButton"),V=(0,a.g2)("CDropdownItem"),W=(0,a.g2)("CDropdownDivider"),G=(0,a.g2)("CDropdownMenu"),z=(0,a.g2)("CDropdown"),P=(0,a.g2)("CRow"),J=(0,a.g2)("CCardHeader"),X=(0,a.g2)("CAvatar"),ve=(0,a.g2)("CCardBody"),Le=(0,a.g2)("CCard"),Ae=(0,a.g2)("CModalTitle"),Ce=(0,a.g2)("CModalHeader"),_e=(0,a.g2)("CModalBody"),Ee=(0,a.g2)("CModalFooter"),Fe=(0,a.g2)("CModal");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,{xs:12},{default:(0,a.k6)((()=>[(0,a.bF)(Le,null,{default:(0,a.k6)((()=>[(0,a.bF)(J,{class:"headercolor"},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,{lg:6},{default:(0,a.k6)((()=>[(0,a.Lk)("label",r,(0,t.v_)(L.titulo),1)])),_:1}),(0,a.bF)(C,{lg:6,class:"text-end"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{variant:"btn-group"},{default:(0,a.k6)((()=>[(0,a.bF)(j,{color:"success",class:"font",size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(q,{icon:"cil-menu",class:"me-2"}),(0,a.eW)("Opciones")])),_:1}),(0,a.bF)(G,null,{default:(0,a.k6)((()=>[(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.bF)(H,{onClick:o[0]||(o[0]=e=>A.clickModalObs(!0)),size:"sm"},{default:(0,a.k6)((()=>[(0,a.eW)("Agregar Observaciones")])),_:1})])),_:1}),(0,a.bF)(W),(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.bF)(H,{onClick:o[1]||(o[1]=e=>A.clickModalRecord(!0)),size:"sm"},{default:(0,a.k6)((()=>[(0,a.eW)("Extraer Record")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(ve,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",d,[(0,a.Lk)("table",n,[c,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(L.listaCiudadanos,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.idPersona},[(0,a.Lk)("th",u,(0,t.v_)(e.idPersona),1),(0,a.Lk)("td",null,[(0,a.bF)(X,{src:e.foto,size:"md"},null,8,["src"])]),(0,a.Lk)("td",null,(0,t.v_)(e.cif),1),(0,a.Lk)("td",null,[(0,a.eW)((0,t.v_)(e.nombre)+" "+(0,t.v_)(e.paterno)+" "+(0,t.v_)(e.materno),1),m,(0,a.eW)(" "+(0,t.v_)(e.ci),1),p,(0,a.eW)(" "+(0,t.v_)(e.celular),1)]),(0,a.Lk)("td",null,[(0,a.eW)((0,t.v_)(e.sigla),1),f,(0,a.Lk)("label",b,(0,t.v_)(e.unidad),1)]),(0,a.Lk)("td",null,[(0,a.bF)(H,{color:"success",class:"font",onClick:o=>A.moduloScc(e.cif),size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(q,{icon:"cil-clipboard",class:"me-2"}),(0,a.eW)("MSCC")])),_:2},1032,["onClick"])])])))),128))])])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(Fe,{visible:L.modalObs,onClose:o[13]||(o[13]=e=>A.clickModalObs(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(Ce,{class:"headercolor",dismiss:"",onClose:o[2]||(o[2]=e=>A.clickModalObs(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[g])),_:1})])),_:1}),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.Lk)("form",{onSubmit:o[11]||(o[11]=(0,s.D$)((e=>A.addObsAll()),["prevent"])),enctype:"multipart/form-data"},[(0,a.Lk)("div",h,[k,(0,a.Lk)("div",v,[(0,a.bo)((0,a.Lk)("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=e=>L.obsall.sexo=e),required:"true"},_,512),[[s.u1,L.obsall.sexo]])])]),(0,a.Lk)("div",E,[F,(0,a.Lk)("div",w,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=e=>L.obsall.uidobs=e),required:"true"},null,512),[[s.Jo,L.obsall.uidobs]])])]),(0,a.Lk)("div",O,[M,(0,a.Lk)("div",T,[(0,a.bo)((0,a.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=e=>L.obsall.fechainicio=e),required:"true"},null,512),[[s.Jo,L.obsall.fechainicio]])])]),(0,a.Lk)("div",S,[D,(0,a.Lk)("div",x,[(0,a.bo)((0,a.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=e=>L.obsall.fechafin=e),required:"true"},null,512),[[s.Jo,L.obsall.fechafin]])])]),(0,a.Lk)("div",$,[y,(0,a.Lk)("div",R,[(0,a.bo)((0,a.Lk)("textarea",{class:"form-control","onUpdate:modelValue":o[7]||(o[7]=e=>L.obsall.detalle=e),required:"true"},null,512),[[s.Jo,L.obsall.detalle]])])]),(0,a.Lk)("div",U,[B,(0,a.Lk)("div",I,[(0,a.bo)((0,a.Lk)("select",{class:"form-control","onUpdate:modelValue":o[8]||(o[8]=e=>L.obsall.tipo=e),required:"true"},K,512),[[s.u1,L.obsall.tipo]])])]),(0,a.Lk)("div",Q,[Y,(0,a.Lk)("div",N,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":o[9]||(o[9]=e=>L.obsall.hora=e)},null,512),[[s.Jo,L.obsall.hora]])])]),(0,a.Lk)("div",Z,[ee,(0,a.Lk)("div",oe,[(0,a.Lk)("input",{type:"file",ref:"obsfile",class:"form-control",onChange:o[10]||(o[10]=e=>A.selectFile()),required:"true"},null,544)])]),ie,(0,a.Lk)("div",ae,[(0,a.Lk)("div",te,[(0,a.Lk)("button",se,[(0,a.bF)(q,{icon:"cil-check-alt",class:"me-2"}),(0,a.eW)(" Agregar Observaciones")])])])],32)])),_:1}),(0,a.bF)(Ee,null,{default:(0,a.k6)((()=>[(0,a.bF)(H,{onClick:o[12]||(o[12]=e=>A.clickModalObs(!1)),color:"danger",class:"font"},{default:(0,a.k6)((()=>[(0,a.bF)(q,{icon:"cil-x",class:"me-2"}),(0,a.eW)("Cancelar")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,a.bF)(Fe,{visible:L.modalRecord,onClose:o[19]||(o[19]=e=>A.clickModalRecord(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(Ce,{class:"headercolor",dismiss:"",onClose:o[14]||(o[14]=e=>A.clickModalRecord(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[le])),_:1})])),_:1}),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.Lk)("form",{onSubmit:o[17]||(o[17]=(0,s.D$)((e=>A.getRecord()),["prevent"]))},[(0,a.Lk)("div",re,[de,(0,a.Lk)("div",ne,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":o[15]||(o[15]=e=>L.record.gestion=e),class:"form-control"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(L.listaGestion,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,t.v_)(e),9,ce)))),128))],512),[[s.u1,L.record.gestion]])])]),(0,a.Lk)("div",ue,[me,(0,a.Lk)("div",pe,[(0,a.bo)((0,a.Lk)("select",{class:"form-control","onUpdate:modelValue":o[16]||(o[16]=e=>L.record.mes=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(L.listaMes,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e.m},(0,t.v_)(e.mes),9,fe)))),128))],512),[[s.u1,L.record.mes]])])]),be,(0,a.Lk)("div",ge,[(0,a.Lk)("div",he,[(0,a.Lk)("button",ke,[(0,a.bF)(q,{icon:"cil-check-alt",class:"me-2"}),(0,a.eW)(" Record")])])])],32)])),_:1}),(0,a.bF)(Ee,null,{default:(0,a.k6)((()=>[(0,a.bF)(H,{onClick:o[18]||(o[18]=e=>A.clickModalRecord(!1)),color:"danger",class:"font"},{default:(0,a.k6)((()=>[(0,a.bF)(q,{icon:"cil-x",class:"me-2"}),(0,a.eW)("Cancelar")])),_:1})])),_:1})])),_:1},8,["visible"])],64)}i(4114);var Le=i(7950),Ae=i(1133),Ce=i(7160),_e=i(7590),Ee=i(903),Fe=i(9995),we=i(6587),Oe=i.n(we);Ee.A.use(Fe.A);var Me={name:"ListaEmpleadoView",components:{},data(){return{titulo:"Tipo Empleado",modalObs:!1,modalRecord:!1,empleadoService:null,egovfService:null,uploadService:null,sccService:null,id_empleado:0,listaEmpleado:[],listaCiudadanos:[],listaCiudadanoEmpleado:[],listaGestion:[],listaMes:[{m:"01",mes:"Enero"},{m:"02",mes:"Febrero"},{m:"03",mes:"Marzo"},{m:"04",mes:"Abril"},{m:"05",mes:"Mayo"},{m:"06",mes:"Junio"},{m:"07",mes:"Julio"},{m:"08",mes:"Agosto"},{m:"09",mes:"Septiembre"},{m:"10",mes:"Octubre"},{m:"11",mes:"Noviembre"},{m:"12",mes:"Diciembre"}],archivo:"",tipoEmpleadoObj:"",usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},tipoEmpleado:{id:0,detalle:"",corto:"",foto:""},obsall:{cif:null,uidobs:"",sexo:"",fechainicio:"",fechafin:"",detalle:"",tipo:"Seleccionar Tipo",hora:"08:30",url:""},record:{gestion:2023,mes:0,tipo:0}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.empleadoService=new Ae.A,this.egovfService=new Le.A,this.sccService=new _e.A,this.uploadService=new Ce.A},mounted(){this.id_empleado=this.$route.params.id,this.getDatos(),this.getTipoEmpleado(),this.getListaEmpleado(),this.getGestion()},methods:{selectFile(){this.archivo=this.$refs.obsfile.files[0],console.log(this.archivo)},tablaEmpleado(){this.$nextTick((()=>{Oe()("#ciudadanoTabla").DataTable()}))},getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.egovfService.headersUsuario(this.usuario.token))},async getListaEmpleado(){await this.empleadoService.getListaEmpleado(this.id_empleado).then((e=>{this.listaEmpleado=e.data,this.getListaCiudadanoEmpleado()}))},async getListaCiudadanoEmpleado(){await this.egovfService.getListaEmpleado().then((e=>{this.listaCiudadanoEmpleado=e.data,this.getListaCiudadano()}))},getListaCiudadano(){this.listaCiudadanos=[],this.listaEmpleado.forEach((e=>{this.listaCiudadanoEmpleado.forEach((o=>{var i={idPersona:0,cif:0,nombre:"",paterno:"",materno:"",ci:"",correo:"",celular:"",sigla:"",unidad:"",foto:""};return e.cif!=o.cif||(i.idPersona=o.idPersona,i.cif=e.cif,i.nombre=o.nombre,i.paterno=o.paterno,i.materno=o.materno,i.ci=o.ci,i.correo=o.correo,i.celular=o.celular,i.sigla=o.sigla,i.unidad=o.unidad,i.foto=o.foto,this.listaCiudadanos.push(i),!1)}))})),this.tablaEmpleado()},async addObsAll(){const e=new FormData;e.append("archivo",this.archivo);try{await this.uploadService.addImagen(e).then((e=>{200==e.status?(this.obsall.url=this.uploadService.getUrl()+e.data.nombre,this.obsall.imagen=e.data.nombre,this.obsall.cif=this.id_empleado,this.$swal.fire({title:"Desea agregar la Observacione de Asistencia a los Empleados?",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((e=>{e.isConfirmed?this.biometricoService.addObsAll(this.obsall).then((e=>{200==e.status?this.$swal.fire("Las Observaciones fueron Agregados Corectamente ","","success").then((e=>{e&&location.reload()})):this.$swal.fire("Las Observaciones no fueron Guardados Error"+e.status,"","error")})):e.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))):this.$swal.fire("El archivo no pudo ser Guardado  ","","error")}))}catch(o){this.$swal.fire("El archivo no pudo ser Guardado  "+o,"error")}},getGestion(){var e=[];const o=new Date;var i=o.getFullYear();this.record.gestion=i;for(var a=2021;a<=i;a++)e.push(a);this.listaGestion=e},async getTipoEmpleado(){await this.empleadoService.getTipoEmpleado(this.id_empleado).then((e=>{this.tipoEmpleadoObj=e.data})),this.titulo=this.tipoEmpleadoObj.detalle},clickModalObs(e){this.modalObs=e},clickModalRecord(e){this.modalRecord=e},moduloScc(e){this.$router.push({name:"ModuloSccView",params:{cifCiudadano:e}})},getRecord(){this.record.tipo=this.id_empleado,this.clickModalRecord(!1),this.$router.push({name:"RecordView",params:{uri:this.record.gestion+"j"+this.record.mes+"m"+this.record.tipo}})}}},Te=i(1241);const Se=(0,Te.A)(Me,[["render",ve],["__scopeId","data-v-7bdd0d18"]]);var De=Se}}]);
//# sourceMappingURL=400.03bc73c4.js.map