"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[567],{7590:function(o,e,i){i.d(e,{A:function(){return l}});var t=i(4373),s=i(1660);const a=s.fw;class l{getPerfil(o){return t.A.get(a+"biometrico/getPerfil",{params:{cif:o}})}getListarCifCero(){return t.A.get(a+"biometrico/listarCifCero")}getHorario(o,e){return t.A.get(a+"horario/getHorario",{params:{gestion:o,cif:e}})}updateBiometrico(o){return t.A.put(a+"biometrico/updateBiometrico",o)}getAvisoAll(){return t.A.get(a+"aviso/getAvisoAll")}getAviso(){return t.A.get(a+"aviso/getAviso")}getObsUsuario(o,e,i){return t.A.get(a+"obs/getObsUsuario",{params:{cif:o,gestion:e,mes:i}})}addObsEmpleado(o){const e={cif:o.cif,uidobs:o.uidobs,fechainicio:o.fechainicio,fechafin:o.fechafin,gestion:o.fechainicio.substring(0,4),mes:o.fechainicio.substring(5,7),di:o.fechainicio.substring(8,10),df:o.fechafin.substring(8,10),detalle:o.detalle,imagen:o.imagen,tipo:o.tipo,hora:o.hora,h:o.hora.substring(0,2),m:o.hora.substring(3,5),url:o.url,estado:0,tipoId:0};return t.A.post(a+"obs/addObs",e)}updateObsEmpleado(o){const e={id:o.id,cif:o.cif,uidobs:o.uidobs,fechainicio:o.fechainicio,fechafin:o.fechafin,gestion:o.fechainicio.substring(0,4),mes:o.fechainicio.substring(5,7),di:o.fechainicio.substring(8,10),df:o.fechafin.substring(8,10),detalle:o.detalle,imagen:o.imagen,tipo:o.tipo,hora:o.hora,h:o.hora.substring(0,2),m:o.hora.substring(3,5),url:o.url,estado:o.estado,tipoId:0};return t.A.put(a+"obs/updateObs",e)}getListaHorario(o,e){return t.A.get(a+"horario/getListaHorario",{params:{cif:o,gestion:e}})}getReporteMes(o){return t.A.get(a+"marcado/reporteMes",{params:{cif:o.cif,gestion:o.gestion,mes:o.mes,di:o.di,df:o.df}})}getReporteMesDia(o){return t.A.get(a+"marcado/reporteMesDia",{params:{cif:o.cif,gestion:o.gestion,mes:o.mes,di:o.di,df:o.df}})}addHorario(o){const e={cif:o.cif,fecha:o.fecha,salida:o.salida,tipo:o.tipo,lem:o.lem,lsm:o.lsm,let:o.let,lst:o.lst,mem:o.mem,msm:o.msm,met:o.met,mst:o.mst,miem:o.miem,mism:o.mism,miet:o.miet,mist:o.mist,jem:o.jem,jsm:o.jsm,jet:o.jet,jst:o.jst,vem:o.vem,vsm:o.vsm,vet:o.vet,vst:o.vst,sem:o.sem,ssm:o.ssm,set:o.set,sst:o.sst,dem:o.dem,dsm:o.dsm,det:o.det,dst:o.dst};return t.A.post(a+"horario/addHorario",e)}addObs(o){const e={cif:o.cif,uidobs:o.uidobs,fechainicio:o.fechainicio,fechafin:o.fechafin,gestion:o.fechainicio.substring(0,4),mes:o.fechainicio.substring(5,7),di:o.fechainicio.substring(8,10),df:o.fechafin.substring(8,10),detalle:o.detalle,imagen:o.imagen,tipo:o.tipo,hora:o.hora,h:o.hora.substring(0,2),m:o.hora.substring(3,5),url:o.url,estado:1,tipoId:0};return t.A.post(a+"obs/addObs",e)}updateObs(o){const e={id:o.id,cif:o.cif,uidobs:o.uidobs,fechainicio:o.fechainicio,fechafin:o.fechafin,gestion:o.gestion,mes:o.mes,di:o.di,df:o.df,detalle:o.detalle,imagen:o.imagen,tipo:o.tipo,hora:o.hora,h:o.h,m:o.m,url:o.url,estado:o.estado,tipoId:o.tipoId};return t.A.put(a+"obs/updateObs",e)}getListaObs(o){return t.A.get(a+"obs/getListaObs",{params:{gestion:o}})}addObsAll(o){const e={id:0,cif:o.cif,sexo:o.sexo,uidobs:o.uidobs,fechainicio:o.fechainicio,fechafin:o.fechafin,gestion:o.fechainicio.substring(0,4),mes:o.fechainicio.substring(5,7),di:o.fechainicio.substring(8,10),df:o.fechafin.substring(8,10),detalle:o.detalle,imagen:o.imagen,tipo:o.tipo,hora:o.hora,h:o.hora.substring(0,2),m:o.hora.substring(3,5),url:o.url,estado:1};return t.A.post(a+"obs/addObsAll",e)}addAviso(o){const e={titulo:o.titulo,detalle:o.detalle,icon:o.icon,estado:1};return t.A.post(a+"aviso/addAviso",e)}updateAviso(o){const e={id:o.id,titulo:o.titulo,detalle:o.detalle,icon:o.icon,estado:o.estado};return t.A.put(a+"aviso/updateAviso",e)}getRecord(o){return t.A.get(a+"marcado/reporteTotal",{params:{gestion:o.gestion,mes:o.mes,tipo:o.tipo}})}getListarBiometrico(){return t.A.get(a+"biometrico/listarBiometrico")}getLBiometricoTipo(o){return t.A.get(a+"biometrico/listarBiometricoTipo",{params:{tipo:o}})}updateBiometricoTipo(o,e){var i=0;1==e&&(i=o.tipoempleado_id);const s={id:0,_01user_id:0,_02nombre:"",_03cif:o.cif,_04estado:0,_05horario_id:0,_06lugar:"",_07id_tipo:i,_08detalle:"",_09sexo:0};return t.A.put(a+"biometrico/updateBiometricoTipo",s)}getObs(o,e,i){return t.A.get(a+"obs/getObs",{params:{cif:o,gestion:e,mes:i}})}estadoBiometrico(o){return console.log(o),t.A.put(a+"biometrico/estadoBiometrico",o)}updateTipo(o,e){return t.A.put(a+"biometrico/updateTipo",{params:{cif:o,tipo:e}})}getListaEquipo(){return t.A.get(a+"equipo/listar")}addEquipo(o){return t.A.post(a+"equipo/addEquipo",o)}updateEquipo(o){return t.A.put(a+"equipo/updateEquipo",o)}}},4567:function(o,e,i){i.r(e),i.d(e,{default:function(){return ro}});var t=i(6768),s=i(4232),a=i(5130);const l=o=>((0,t.Qi)("data-v-2d8ce39c"),o=o(),(0,t.jt)(),o),r={class:"table-responsive"},c={id:"equipoTabla",class:"table table-striped table-hover"},d=l((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"ID"),(0,t.Lk)("th",null,"Titulo"),(0,t.Lk)("th",null,"Detalle"),(0,t.Lk)("th",null,"Estado"),(0,t.Lk)("th",null,"Operaciones")])],-1))),n={scope:"row"},u=l((()=>(0,t.Lk)("br",null,null,-1))),f=l((()=>(0,t.Lk)("h5",null,"Agregar Nuevo Aviso",-1))),m={class:"mb-3 row"},p=l((()=>(0,t.Lk)("label",{for:"detalle",class:"col-4"},"Titulo",-1))),g={class:"col-8"},v={class:"mb-3 row"},b=l((()=>(0,t.Lk)("label",{for:"lugar",class:"col-4"},"Detalle",-1))),h={class:"col-8"},k={class:"mb-3 row"},A=l((()=>(0,t.Lk)("label",{for:"ip",class:"col-4"},"Icono",-1))),L={class:"col-8"},C=l((()=>(0,t.Lk)("option",{value:"info"},"Informacion",-1))),_=l((()=>(0,t.Lk)("option",{value:"error"},"Error",-1))),U=l((()=>(0,t.Lk)("option",{value:"success"},"Completo",-1))),F=l((()=>(0,t.Lk)("option",{value:"warning"},"Incompleto",-1))),w=l((()=>(0,t.Lk)("option",{value:"question"},"Pregunta",-1))),T=[C,_,U,F,w],B={class:"btn btn-success font"},M=l((()=>(0,t.Lk)("h5",null,"Actualizar Aviso",-1))),$={class:"mb-3 row"},q=l((()=>(0,t.Lk)("label",{for:"detalle",class:"col-4"},"Titulo",-1))),E={class:"col-8"},I={class:"mb-3 row"},D=l((()=>(0,t.Lk)("label",{for:"lugar",class:"col-4"},"Detalle",-1))),O={class:"col-8"},x={class:"mb-3 row"},y=l((()=>(0,t.Lk)("label",{for:"ip",class:"col-4"},"Icono",-1))),W={class:"col-8"},S=l((()=>(0,t.Lk)("option",{value:"info"},"Informacion",-1))),j=l((()=>(0,t.Lk)("option",{value:"error"},"Error",-1))),H=l((()=>(0,t.Lk)("option",{value:"success"},"Completo",-1))),V=l((()=>(0,t.Lk)("option",{value:"warning"},"Incompleto",-1))),z=l((()=>(0,t.Lk)("option",{value:"question"},"Pregunta",-1))),R=[S,j,H,V,z],X={class:"mb-3 row"},J=l((()=>(0,t.Lk)("label",{for:"codigo",class:"col-4"},"Estado",-1))),P={class:"col-8"},G=l((()=>(0,t.Lk)("option",{value:"1"},"Activo",-1))),K=l((()=>(0,t.Lk)("option",{value:"0"},"Inactivo",-1))),N=[G,K],Q={class:"btn btn-success font"};function Y(o,e,i,l,C,_){const U=(0,t.g2)("CCol"),F=(0,t.g2)("CIcon"),w=(0,t.g2)("CButton"),S=(0,t.g2)("CRow"),j=(0,t.g2)("CCardHeader"),H=(0,t.g2)("CBadge"),V=(0,t.g2)("CCardBody"),z=(0,t.g2)("CCard"),G=(0,t.g2)("CModalTitle"),K=(0,t.g2)("CModalHeader"),Y=(0,t.g2)("CModalBody"),Z=(0,t.g2)("CModalFooter"),oo=(0,t.g2)("CModal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(S,null,{default:(0,t.k6)((()=>[(0,t.bF)(U,{xs:12},{default:(0,t.k6)((()=>[(0,t.bF)(z,null,{default:(0,t.k6)((()=>[(0,t.bF)(j,{class:"headercolor"},{default:(0,t.k6)((()=>[(0,t.bF)(S,null,{default:(0,t.k6)((()=>[(0,t.bF)(U,{lg:6},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(C.titulo),1)])),_:1}),(0,t.bF)(U,{lg:6,class:"text-end"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{onClick:e[0]||(e[0]=o=>_.clickModalAviso(!0)),color:"success",class:"font",size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Agregar ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(V,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",r,[(0,t.Lk)("table",c,[d,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(C.listaAvisos,(o=>((0,t.uX)(),(0,t.CE)("tr",{key:o.id},[(0,t.Lk)("th",n,(0,s.v_)(o.id),1),(0,t.Lk)("td",null,(0,s.v_)(o.titulo),1),(0,t.Lk)("td",null,(0,s.v_)(o.detalle),1),(0,t.Lk)("td",null,[(0,t.eW)(" Icono : "+(0,s.v_)(o.icon),1),u,1==o.estado?((0,t.uX)(),(0,t.Wv)(H,{key:0,color:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("Activo ")])),_:1})):((0,t.uX)(),(0,t.Wv)(H,{key:1,color:"warning"},{default:(0,t.k6)((()=>[(0,t.eW)("Inactivo")])),_:1}))]),(0,t.Lk)("td",null,[(0,t.bF)(w,{class:"font",color:"success",onClick:e=>_.avisoSelect(o.id),size:"sm"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"cil-pencil",class:"me-2"})])),_:2},1032,["onClick"])])])))),128))])])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(oo,{visible:C.modalAviso,onClose:e[7]||(e[7]=o=>_.clickModalAviso(!1))},{default:(0,t.k6)((()=>[(0,t.Lk)("form",{onSubmit:e[6]||(e[6]=(0,a.D$)((o=>_.addAviso()),["prevent"]))},[(0,t.bF)(K,{class:"headercolor",dismiss:"",onClose:e[1]||(e[1]=o=>_.clickModalAviso(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(G,null,{default:(0,t.k6)((()=>[f])),_:1})])),_:1}),(0,t.bF)(Y,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",m,[p,(0,t.Lk)("div",g,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>C.aviso.titulo=o),placeholder:"Titulo del Aviso a colocar",required:"true"},null,512),[[a.Jo,C.aviso.titulo]])])]),(0,t.Lk)("div",v,[b,(0,t.Lk)("div",h,[(0,t.bo)((0,t.Lk)("textarea",{class:"form-control",cols:"30",rows:"5","onUpdate:modelValue":e[3]||(e[3]=o=>C.aviso.detalle=o),required:"true"},null,512),[[a.Jo,C.aviso.detalle]])])]),(0,t.Lk)("div",k,[A,(0,t.Lk)("div",L,[(0,t.bo)((0,t.Lk)("select",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=o=>C.aviso.icon=o),required:"true"},T,512),[[a.u1,C.aviso.icon]])])])])),_:1}),(0,t.bF)(Z,null,{default:(0,t.k6)((()=>[(0,t.bF)(w,{onClick:e[5]||(e[5]=o=>_.clickModalAviso(!1)),color:"danger",class:"font"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.Lk)("button",B,[(0,t.bF)(F,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Agregar ")])])),_:1})],32)])),_:1},8,["visible"]),(0,t.bF)(oo,{visible:C.modalAvisoUpdate,onClose:e[15]||(e[15]=o=>_.clickModalAvisoUpdate(!1))},{default:(0,t.k6)((()=>[(0,t.Lk)("form",{onSubmit:e[14]||(e[14]=(0,a.D$)((o=>_.updateAviso()),["prevent"]))},[(0,t.bF)(K,{class:"headercolor",dismiss:"",onClose:e[8]||(e[8]=o=>_.clickModalAvisoUpdate(!1))},{default:(0,t.k6)((()=>[(0,t.bF)(G,null,{default:(0,t.k6)((()=>[M])),_:1})])),_:1}),(0,t.bF)(Y,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",$,[q,(0,t.Lk)("div",E,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>C.avisoUpdate.titulo=o),placeholder:"Titulo del Aviso a colocar",required:"true"},null,512),[[a.Jo,C.avisoUpdate.titulo]])])]),(0,t.Lk)("div",I,[D,(0,t.Lk)("div",O,[(0,t.bo)((0,t.Lk)("textarea",{class:"form-control",cols:"30",rows:"5","onUpdate:modelValue":e[10]||(e[10]=o=>C.avisoUpdate.detalle=o),required:"true"},null,512),[[a.Jo,C.avisoUpdate.detalle]])])]),(0,t.Lk)("div",x,[y,(0,t.Lk)("div",W,[(0,t.bo)((0,t.Lk)("select",{class:"form-control","onUpdate:modelValue":e[11]||(e[11]=o=>C.avisoUpdate.icon=o),required:"true"},R,512),[[a.u1,C.avisoUpdate.icon]])])]),(0,t.Lk)("div",X,[J,(0,t.Lk)("div",P,[(0,t.bo)((0,t.Lk)("select",{class:"form-control","onUpdate:modelValue":e[12]||(e[12]=o=>C.avisoUpdate.estado=o),required:"true"},N,512),[[a.u1,C.avisoUpdate.estado]])])])])),_:1}),(0,t.bF)(Z,null,{default:(0,t.k6)((()=>[(0,t.bF)(w,{onClick:e[13]||(e[13]=o=>_.clickModalAvisoUpdate(!1)),color:"danger",class:"font"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"cil-x",class:"me-2"}),(0,t.eW)("Cancelar ")])),_:1}),(0,t.Lk)("button",Q,[(0,t.bF)(F,{icon:"cil-cloud-upload",class:"me-2"}),(0,t.eW)("Actualizar ")])])),_:1})],32)])),_:1},8,["visible"])],64)}i(4114);var Z=i(7590),oo=i(903),eo=i(9995),io=i(6587),to=i.n(io);oo.A.use(eo.A);var so={name:"AvisoView",components:{},data(){return{titulo:"Avisos Modulo SCC",modalAviso:!1,modalAvisoUpdate:!1,sccService:null,listaAvisos:[],usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},aviso:{titulo:"",detalle:"",icon:"",estado:0},avisoUpdate:{id:0,titulo:"",detalle:"",icon:"",estado:0}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.sccService=new Z.A},mounted(){this.getDatos(),this.getAvisoAll()},methods:{tabla(){this.$nextTick((()=>{to()("#equipoTabla").DataTable()}))},getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.usuario.foto=this.$cookies.get("foto"))},async getAvisoAll(){await this.sccService.getAvisoAll().then((o=>{this.listaAvisos=o.data})),this.tabla()},addAviso(){this.$swal.fire({title:"Desea Registrar El Aviso",icon:"info",showDenyButton:!0,confirmButtonText:"Registrar",denyButtonText:"Cancelar"}).then((o=>{o.isConfirmed&&this.sccService.addAviso(this.aviso).then((o=>{201==o.status?this.$swal.fire("Aviso Registrado Corectamente","","success").then((o=>{o&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error",""+o.status,"error")}))}))},updateAviso(){this.$swal.fire({title:"Desea Actualizar El Aviso",icon:"info",showDenyButton:!0,confirmButtonText:"Actualizar",denyButtonText:"Cancelar"}).then((o=>{o.isConfirmed&&this.sccService.updateAviso(this.avisoUpdate).then((o=>{200==o.status?this.$swal.fire("Aviso Actualizado Corectamente","","success").then((o=>{o&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error",""+o.status,"error")}))}))},avisoSelect(o){this.listaAvisos.forEach((e=>{e.id==o&&(this.avisoUpdate.id=e.id,this.avisoUpdate.titulo=e.titulo,this.avisoUpdate.detalle=e.detalle,this.avisoUpdate.icon=e.icon,this.avisoUpdate.estado=e.estado)})),this.clickModalAvisoUpdate(!0)},clickModalAviso(o){this.modalAviso=o},clickModalAvisoUpdate(o){this.modalAvisoUpdate=o}}},ao=i(1241);const lo=(0,ao.A)(so,[["render",Y],["__scopeId","data-v-2d8ce39c"]]);var ro=lo}}]);
//# sourceMappingURL=567.b0ec4466.js.map