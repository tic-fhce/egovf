"use strict";(self["webpackChunkegovf"]=self["webpackChunkegovf"]||[]).push([[642],{6642:function(o,e,l){l.r(e),l.d(e,{default:function(){return V}});var s=l(6768);const i=(0,s.Lk)("br",null,null,-1);function a(o,e,l,a,t,u){const d=(0,s.g2)("ComponenteDatosPersonalesVue"),c=(0,s.g2)("ComponenteModulosVue");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(d,{cifCiudadano:t.cifCiudadano,egovfp:t.egovf},null,8,["cifCiudadano","egovfp"]),i,(0,s.bF)(c,{cif:t.cifCiudadano,egovf:t.egovf},null,8,["cif","egovf"])],64)}l(4114);var t=l(9790),u=l(4232),d=l(5130);const c=(0,s.Lk)("br",null,null,-1),n=(0,s.Lk)("h5",null,"Agregar Modulos",-1),r={class:"mb-3 row"},f={class:"card-title"},g={class:"mb-3 row"},h=(0,s.Lk)("label",{for:"nombre",class:"col-4"},"Nombre : ",-1),k={for:"nombre",class:"col-8"},m={class:"mb-3 row"},C=(0,s.Lk)("label",{for:"apellido",class:"col-4"},"Apellidos : ",-1),b={for:"nombre",class:"col-8"},v=(0,s.Lk)("hr",null,null,-1),p={class:"mb-3 row"},M=(0,s.Lk)("label",{for:"datos",class:"col-6 col-form-label"},"Modulo",-1),F={class:"col-6"},_=["value"],$={class:"btn btn-success font"};function L(o,e,l,i,a,t){const L=(0,s.g2)("CCol"),w=(0,s.g2)("CIcon"),E=(0,s.g2)("CButton"),D=(0,s.g2)("CRow"),A=(0,s.g2)("CCardHeader"),S=(0,s.g2)("CCardBody"),y=(0,s.g2)("CCardFooter"),B=(0,s.g2)("CCard"),P=(0,s.g2)("CModalTitle"),V=(0,s.g2)("CModalHeader"),x=(0,s.g2)("CModalBody"),W=(0,s.g2)("CModalFooter"),X=(0,s.g2)("CModal");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(D,null,{default:(0,s.k6)((()=>[(0,s.bF)(L,{lg:12},{default:(0,s.k6)((()=>[(0,s.bF)(B,null,{default:(0,s.k6)((()=>[(0,s.bF)(A,{class:"headercolor"},{default:(0,s.k6)((()=>[(0,s.bF)(D,null,{default:(0,s.k6)((()=>[(0,s.bF)(L,{lg:6},{default:(0,s.k6)((()=>[(0,s.eW)("Modulos Del Ciudadano")])),_:1}),(0,s.bF)(L,{lg:6,class:"text-end"},{default:(0,s.k6)((()=>[(0,s.bF)(E,{onClick:e[0]||(e[0]=o=>t.clickModalModulo(!0)),color:"success",class:"font",size:"sm"},{default:(0,s.k6)((()=>[(0,s.bF)(w,{icon:"cil-cloud-upload",class:"me-2"}),(0,s.eW)("Agregar")])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.bF)(S,null,{default:(0,s.k6)((()=>[(0,s.bF)(D,null,{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.listaModuloCifEmpleado,(o=>((0,s.uX)(),(0,s.Wv)(L,{lg:3,key:o.id},{default:(0,s.k6)((()=>[c,(0,s.bF)(B,null,{default:(0,s.k6)((()=>[(0,s.bF)(w,{customClassName:"nav-icon",icon:o.imagen},null,8,["icon"]),(0,s.bF)(S,null,{default:(0,s.k6)((()=>[(0,s.Lk)("p",null,(0,u.v_)(o.descripcion),1)])),_:2},1024),(0,s.bF)(y,{class:"text-center"},{default:(0,s.k6)((()=>[(0,s.bF)(E,{color:"success",class:"font",onClick:e=>t.getModulo(o.ruta)},{default:(0,s.k6)((()=>[(0,s.eW)((0,u.v_)(o.nombre),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.bF)(X,{visible:a.modalModulo,onClose:e[5]||(e[5]=o=>t.clickModalModulo(!1))},{default:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:e[4]||(e[4]=(0,d.D$)((o=>t.addModulo()),["prevent"]))},[(0,s.bF)(V,{class:"headercolor",dismiss:"",onClose:e[1]||(e[1]=o=>t.clickModalModulo(!1))},{default:(0,s.k6)((()=>[(0,s.bF)(P,null,{default:(0,s.k6)((()=>[n])),_:1})])),_:1}),(0,s.bF)(x,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[(0,s.Lk)("h4",f,"CIF : "+(0,u.v_)(l.egovf.cif),1)]),(0,s.Lk)("div",g,[h,(0,s.Lk)("label",k,(0,u.v_)(l.egovf.nombre),1)]),(0,s.Lk)("div",m,[C,(0,s.Lk)("label",b,(0,u.v_)(l.egovf.paterno)+" "+(0,u.v_)(l.egovf.materno),1)]),v,(0,s.Lk)("div",p,[M,(0,s.Lk)("div",F,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.id_modulo=o),class:"form-control",required:"true"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.listaModulo,(o=>((0,s.uX)(),(0,s.CE)("option",{value:o.id,key:o.id},(0,u.v_)(o.descripcion),9,_)))),128))],512),[[d.u1,a.id_modulo]])])])])),_:1}),(0,s.bF)(W,null,{default:(0,s.k6)((()=>[(0,s.bF)(E,{onClick:e[3]||(e[3]=o=>t.clickModalModulo(!1)),color:"danger",class:"font"},{default:(0,s.k6)((()=>[(0,s.bF)(w,{icon:"cil-x",class:"me-2"}),(0,s.eW)("Cancelar")])),_:1}),(0,s.Lk)("button",$,[(0,s.bF)(w,{icon:"cil-check-alt",class:"me-2"}),(0,s.eW)("Agregar ")])])),_:1})],32)])),_:1},8,["visible"])],64)}var w=l(8329),E={name:"ComponenteModulosVue",props:["cif","egovf"],data(){return{modalModulo:!1,moduloService:null,listaModulo:[],listaModuloCifEmpleado:[],id_modulo:0,getPB:!0,usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},modulo:{cif:0,idmodulo:0}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.moduloService=new w.A},mounted(){this.getDatos(),this.getModulos()},updated(){this.cif>0&&this.getPB&&(this.getModuloCifEmpleado(),this.getPB=!1)},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"),this.moduloService.headersUsuario(this.usuario.token))},async getModulos(){await this.moduloService.getModulos().then((o=>{this.listaModulo=o.data}))},async getModuloCifEmpleado(){await this.moduloService.getModuloCifEmpleado(this.cif).then((o=>{this.listaModuloCifEmpleado=o.data,console.log(this.listaModuloCifEmpleado)}))},async addModulo(){this.modulo.cif=this.cif,this.modulo.idmodulo=this.id_modulo,await this.$swal.fire({title:"Desea Agregar el Modulo al Ciudadano ?",showDenyButton:!0,icon:"info",confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then((o=>{o.isConfirmed?this.moduloService.addModulo(this.modulo).then((o=>{200==o.status?this.$swal.fire("El Modulo fue Agregado al Ciudadano Corectamente","","success").then((o=>{o&&location.reload()})):this.$swal.fire("Los Datos no fueron Guardados Error"+o.status,"","error")})):o.isDenied&&this.$swal.fire("Datos Cancelados","","info")}))},getModulo(o){this.$router.push({name:o,params:{cifCiudadano:this.cif}})},clickModalModulo(o){this.modalModulo=o}}},D=l(1241);const A=(0,D.A)(E,[["render",L]]);var S=A,y=l(7950),B={name:"PerfilCiudadanoView",components:{ComponenteDatosPersonalesVue:t.A,ComponenteModulosVue:S},data(){return{titulo:"Modulos del Ciudadano",egovfService:null,cifCiudadano:"",usuario:{token:"",cif:"",correo:"",celular:"",pass:"",unidad:"",sigla:""},egovf:{idPersona:0,nombre:"",paterno:"",materno:"",fecha:"",sexo:0,idUsuario:0,cif:0,matricula:0,ci:"",ci_com:0,complemento:"",correo:"",celular:"",pass:"",unidad:"",dependiente:"",sigla:"",foto:""}}},beforeCreate(){null==this.$cookies.get("cif")&&this.$router.push("/")},created(){this.egovfService=new y.A},mounted(){this.cifCiudadano=this.$route.params.cifCiudadano,this.getDatos(),this.getEgovf()},methods:{getDatos(){null!=this.$cookies.get("cif")&&(this.usuario.token=this.$cookies.get("token"),this.usuario.cif=this.$cookies.get("cif"),this.usuario.correo=this.$cookies.get("correo"),this.usuario.celular=this.$cookies.get("celular"),this.usuario.pass=this.$cookies.get("pass"),this.usuario.unidad=this.$cookies.get("unidad"),this.usuario.sigla=this.$cookies.get("sigla"))},async getEgovf(){this.egovfService.headersUsuario(this.usuario.token),await this.egovfService.getEgovf(this.cifCiudadano).then((o=>{this.egovf=o.data}))}}};const P=(0,D.A)(B,[["render",a]]);var V=P}}]);
//# sourceMappingURL=642.c77e63e9.js.map